<?php columnStart(1); ?>
<p>
252:
253:
254:
255:
256:
257:
258:
259:
260:
261:
OFF
262:
263:
264:
265:
PROGR3:
PROGR4:
INC HL
INC DE
JR PROGR2
POP BC
LD A, B
DEC A
DEFB SCAL, B2HEX
DJNZ PROG1
CALL STPIO2
CALL RESET1
DEFB SCAL, TDEL
DEFB SCAL, TDEL
CALL MESS19
JP RESTRT
; POINT TO NEXT BYTE
; INCREMENT BYTE COUNT
; BACK, SEE IF 1K DONE
; 1K DONE, GET CYCLES
; PRINT CYCLES LEFT
; ADJUST COUNT
; PUT ON SCREEN
; IF NOT 104, GO TO PROGR1
; PORT A TO I/P
; 12V OFF, 5V ENABLED, CHIPS
; TWO SECONDS DELAY
; BACK TO START
266:
267:
268:
269:
270:
;
; * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
; * ROUTINE FOR 2516/2716 EPROMS *
; * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
;
271:
272:
273:
274:
275:
276:
277:
278:
279:
280:
281:
282:
283:
284:
285:
286:
287:
288:
289:
290:
291:
292:
293:
294:
295:
296:
297:
298:
299:
300:
301:
302:
303:
304:
305:
306:
307:
308:
PR2716:
PR27A:
WAIT:
WAIT1:
PR27C:
WAIT2:
WAIT3:
WAIT4:
LD DE, 0
JR PRINTD
LD A, (ROMFLG)
CP D
JR Z, PROGR4
LD A, 3
OUT (BDATA), A
LD B, 10H
DJNZ WAIT
LD A, (HL)
OUT (ADATA), A
LD B, 10H
DJNZ WAIT1
LD A, 13H
OUT (ADATA), A
LD BC, 1D00H
DEC BC
LD A, B
OR C
JR NZ, PR27C
LD A, 3
OUT (BDATA) ,A
LD B, 10HWAIT2
DJNZ WAIT2
LD A, 1
OUT (BDATA), 1
LD B, 10H
DJNZ WAIT3
LD A, 5
OUT (BDATA), A
LD B, 10H
DJNZ WAIT4
LD A, 1
OUT (BDATA), A
INC HL
INC DE
LD A, E
CP 0
; BYTE COUNTER
; FLAG EQUALS 8 FOR 2K ROM
; 800H BYTES DONE?
; IF SO, EXIT VIA PROGR4
;TURN ON 26V AND OE
; SHORT DELAY
; DATA
; SHORT DELAY
; TURN ON 26V, OE, PGM
; COUNT FOR 50 mSEC.
; PGMPULSEOFF
; SHORT DELAY
; TURN OE OFF
; SHORT DELAY
; 26V, INCREMENT COUNTER
; SHORT DELAY
; INCREMENT PULSE OFF
</p>
<?php columnEnd(1); ?>
