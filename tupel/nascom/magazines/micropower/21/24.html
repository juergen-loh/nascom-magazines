<?php columnStart(1); ?>
<p>
195:
196:
197:
198:
199:
200:
201:
202:
203:
204:
205:
206:
207:
208:
209:
210:
211:
212:
WH2:
CP &ldquo;Y&rdquo;
JR Z,WH2
CP &ldquo;N&rdquo;
JR NZ,WH1
JR PROMPT
CALL CLRCRT
EX AF, AF&rsquo;
CP &ldquo;P&rdquo;
JR Z, PROGRM
CP &ldquo;C&rdquo;
JR Z, CMPARE
CP &ldquo;T&rdquo;
JR Z, TRNFER
CP &ldquo;E&rdquo;
JR Z, ERASED
CP &ldquo;D&rdquo;
JR Z, OUTPUT
JR OPTION
; TRTY AGAIN IF NOT Y OR
; REPROMPT IF &ldquo;N&rdquo;
; CLEAR SCREEN
; WAS IT A &ldquo;P&rdquo;?
; IF SO, GO TO PROGRAM
; WAS IT A &ldquo;C&rdquo;?
; IF SO, GO TO COMPARE
; WAS IT A &ldquo;T&rdquo;?
; IF SO, GO TO TRANSFER
; WAS IT AN &ldquo;E&rdquo;?
; IF SO, TEST FOR ERASURE
; WAS IT A &ldquo;D&rdquo;?
; IF SO, GO TO DUMP ROUTINE
; INVALID ENTRY, TRY AGAIN
213:
214:
215:
; * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
; * ROUTINE TO PROGRAM EPROM *
; * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
216:
217:
218:
219:
220:
221:
222:
223:
224:
225:
226:
227:
228:
229:
230:
231:
232:
233:
234:
235:
236:
237:
238:
239:
240:
241:
242:
243:
244:
245:
246:
247
248:
249:
250:
251:
PROGRM:
SETPIO:
PROGR1:
PROGR2:
HOLD:
DELAY1:
HOLD1:
:
HOLD2:
LD HL, TEXT17
LD DE, 0A4BH
LD BC, 11H
LDIR
CALL RAMADR
CALL STPIO3
LD A, (ROMFLG)
CP 8
JR Z, PR2716
LD B, 68H
PUSH BC
CALL RESET
LD DE, 0
LD HL, (STOR1)
LD A, (ROMFLG)
CP D
JR Z, PROGR3
LD A, (HL)
OUT (ADATA), A
LD B, 10H
DJNZ HOLD
LD A, 23H
OUT (BDATA), A
LD B, OEH
NOP
DJNZ DELAY1
LD A, 22H
OUT (BDATA), A
LD B, 10H
DJNZ HOLD1
LD A, 26H
OUT (BDATA), A
LD B, 10H
DJNZ HOLD2
LD A, 22H
OUT (BDATA), A
; &ldquo;COPIED INTO EPROM&rdquo;
; GET START ADDRESS
; PORT A LINES TO O/P
; 1K OR 2K EPROM?
; JUMP IF 2716
; NUMBER OF CYCLES TO COUNT
; SAVE CYCLES COUNT
; RESET COUNTER, SET 12V ANDWE
; CLEAR COUNTER
; GET START ADDRESS
; FLAG EQUALS 4 FOR 2708
; IS D 4?
; IF SO, JUMP TO PROGR3
; ELSE GET BYTE AND
; SEND IT TO THE EPROM
; SHORT DELAY TO ALLOW
; DATA TO STABILISE
; OUTPUT CONTROLS TO PUT
; 12V AND 26V ON EPROM
; KEEP 26V ON FOR 1 mS
; NOWSWITCH 26v OFF
; BUT KEEP 12V ON
; SHORT DELAY
; HOLD 12V AND INCREMENT
; ADDRESS COUNTER
; SHORT DELAY
; 12V ONLY
</p>
<?php columnEnd(1); ?>
