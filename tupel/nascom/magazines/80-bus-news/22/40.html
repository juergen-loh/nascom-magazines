<?php columnStart(1); ?>
<p>
GemZap V1.2
</p>
<p>
OO0L
O002
00s
Q004
Coos
0006
O07
9008
0009
O10
Ooi
OOL 2
OOLS
ao14
OOS
OOLS
QOL7
OO1s
OOLs
QQ
OODL
OO?
</p>
<p>
OO3D
OOS &gt;
</p>
<p>
OLOd
</p>
<p>
OLLA
OLiD
OLE
OLIF
O120
O124
O127
O28
OL2g
OLZA
oO12b
o1sc
o12D
O12E
</p>
<p>
OOO4
BOOS
aOOSC
</p>
<p>
SOILS
</p>
<p>
SOON
</p>
<p>
2QO2D
</p>
<p>
QLELGL
FESL
CDBECL
FASCOO
=D
F2i20OL
SAO4Od
4aF
3E18
CDBEOL
7
</p>
<p>
BS
CABTZOL
SE
</p>
<p>
22
</p>
<p>
56
EDSIDROL
LLO900
19
</p>
<p>
SE
</p>
<p>
23
</p>
<p>
56
</p>
<p>
ER
</p>
<p>
SE
</p>
<p>
23
</p>
<p>
56
</p>
<p>
UNERA &ndash; CP/M 2.2 utility program
</p>
<p>
Bee ee ee an ee Om er te ee on a ee ee
</p>
<p>
3
</p>
<p>
Jak
CuRDRY
EDOS
DFCE
</p>
<p>
*
</p>
<p>
SELDS!.
SETTRy:
SE TSEC,
SETDMA
READ
</p>
<p>
WRITE
</p>
<p>
UNERA &ndash; CP/M
By Anders Hejlsberg, July 1982
UNERA is used to un-erase
</p>
<p>
deleted by accident.
line *UNERA dinnnnannann.ttt&rsquo;,
</p>
<p>
the name
</p>
<p>
may be omitted,
is selected.
un-erase a file if no new files
file was deleted,
UNERA
</p>
<p>
drive
</p>
<p>
since the
un-er asure,
</p>
<p>
2.2 utility program
</p>
<p>
CF/M file
UNERA is invoked by the command
where dinnnnnnnn.ttt is
of the file to un-erase.
in which case the
</p>
<p>
will
</p>
<p>
Page O1
</p>
<p>
which
</p>
<p>
Was
</p>
<p>
The drive number
currently logged
</p>
<p>
Note that it is only possible to
</p>
<p>
have been created
</p>
<p>
Following a succesfull
display
</p>
<p>
&ldquo;FILE FOUND*. If
</p>
<p>
the file specified cannot be found among the celeted
</p>
<p>
files, a &ldquo;NO FILE*
</p>
<p>
ORG
CP/M equates
Eto
EQuU
</p>
<p>
eeu
EGU
</p>
<p>
BIOS jump vectors
</p>
<p>
eeu
EQu
FOU
ECU
</p>
<p>
SECTRN EGU
</p>
<p>
$
</p>
<p>
Entry port
</p>
<p>
be
</p>
<p>
aE
</p>
<p>
WALL.
</p>
<p>
Oo
whoo
</p>
<p>
DEG
</p>
<p>
LD
</p>
<p>
UNDO: LL
</p>
<p>
LD
CALL
ta Ed
OR
JF
ub
INC
LD
&mdash;D
LD
ADD
LD
INC
LD
EX
iD
INC
LD
</p>
<p>
COOH
OO04H
OOOSH
OSC mi
</p>
<p>
1x
ifr
Lert
21h
24H
27h
2BH
</p>
<p>
BC, SS Bur
ASE&rdquo; DMA
</p>
<p>
Bist
</p>
<p>
4, (OFCE)
</p>
<p>
oto
JF Py
Ehcor WV)
</p>
<p>
UN
</p>
<p>
CA
A, SELDSF
BIOSC
Aart
</p>
<p>
L
Z.NOFILE
E, (HL)
HL.
</p>
<p>
D. (HL?
(XLT), DE
DEY
</p>
<p>
Hi, DE
</p>
<p>
E, (HO)
HL
</p>
<p>
D, (HL)
DE. rik,
</p>
<p>
E. (HL)
HL
</p>
<p>
D, (HL)
</p>
<p>
loffeet
</p>
<p>
message 13 displayed.
</p>
<p>
;Define origin
</p>
<p>
iwarme-baot jumo vector
rCurrent drive store
7EDOS jurs vector
sDefauit FOE
</p>
<p>
from WEOOT)
</p>
<p>
:Select dis.
</p>
<p>
3Set tract
</p>
<p>
Set sector
</p>
<p>
;Set DPA adores:
</p>
<p>
pRead current record
sWrite current recor
iTrangsiate sector aac:
</p>
<p>
Fount to SECKUF
iSet DSA acor ees
</p>
<p>
Get drive cooe
PAcsust
</p>
<p>
gNot cefauit =. sgihip
Get default drive nor
Put orive number ain C
Select dis
</p>
<p>
3YYes =&rdquo; quit
7Get sector trans.ation
ivector address
</p>
<p>
;Store in xLT
sPoint to DPE vector
</p>
<p>
;Get DPE address
</p>
<p>
gPut oan HL.
3Get sectors/track count
</p>
<p>
GemZap V1.2
</p>
<p>
0065
0066
0067
2068
O08F
2070
OO71
072
9073
O07 4
O75
076
0077
O78
O79
OOao
O81
one
</p>
<p>
OLAS
OLL
OLL?
G113
O11?
O1na
O12t
122
O12S3
OL24
9125
O126
O127
O128
</p>
<p>
OL2F
O13S
0136
O437
O1se
O19
OL3A
QLSE
O14.
0142
o14s
O144
o14s
O146
0148
O14B
O14E
O14
O1SS
OLS5
o1se
O19
O1S4
oi Sc
OUSF
OLSL
9164
OLE7
OL69
OL168
O16B
O1ec
O16E
OLF oe
</p>
<p>
wed
</p>
<p>
O17
O17 6
OL77
OA78
WL7g
LATA
O17
</p>
<p>
OL7F
OLB}
1g.
164
O186
O189
o1sc
OL8E
OLSF
O19
O19s
O194
O196
O199
O19c
OL9D
QL9F
OLA2
OLAS
O1LA4
OLAS
</p>
<p>
EDS2DD01
110600
</p>
<p>
19
</p>
<p>
SE
</p>
<p>
23
</p>
<p>
56
</p>
<p>
EDSSDFO1
110500
</p>
<p>
19
</p>
<p>
4E
</p>
<p>
23
</p>
<p>
46
</p>
<p>
cs UND1s
SEL E
</p>
<p>
CDBEOL
</p>
<p>
O10000
</p>
<p>
cs UND2:
EDSEDBOL
</p>
<p>
SE2D
</p>
<p>
COREOL
</p>
<p>
44
</p>
<p>
4D
</p>
<p>
TEIE
</p>
<p>
CDBEOL
</p>
<p>
TEZ4
</p>
<p>
CDBEDOL
</p>
<p>
RLELOL
</p>
<p>
W604
</p>
<p>
ch UND:
ES
</p>
<p>
7E
</p>
<p>
FEES
</p>
<p>
SOLE
</p>
<p>
LLSCoo
</p>
<p>
608
</p>
<p>
23 UND4 :
</p>
<p>
SER?
CDREGI
</p>
<p>
10ODS
SADFOL
</p>
<p>
LiFCFF
iy
BOL4
22DFoOL
C1
</p>
<p>
Oo
</p>
<p>
60
</p>
<p>
4?
</p>
<p>
LD
LD
ADD
LD
INC
LD
LD
uD
ADD
LD
INC
LD
PUSH
LD
CALL
LD
PUSH
LD
LD
CALL
uD
LD
LD
CALL.
Lo
CALL
LD
LD
PUSH
Push
uD
cr
JR
LD
LD
</p>
<p>
&ldquo;UND4
</p>
<p>
UNERA &ndash; CP/M 2.2 utility
</p>
<p>
(SPT) , DE
</p>
<p>
DE,6
</p>
<p>
HL, DE
</p>
<p>
E, (HL)
</p>
<p>
HL
</p>
<p>
D, CHL?
(DRM) , DE
</p>
<p>
DE,S
</p>
<p>
HL. , DE
</p>
<p>
C, (HL)
</p>
<p>
HL
</p>
<p>
B, (HL)
</p>
<p>
BC
</p>
<p>
A, SETTRE
</p>
<p>
BIOSC
</p>
<p>
BC, Oo
</p>
<p>
BC
</p>
<p>
DE, (XLT)
</p>
<p>
A, SECTRN
</p>
<p>
BIOSC
</p>
<p>
Byrn
</p>
<p>
Cake
</p>
<p>
A, SETSEC
</p>
<p>
BrOSsc
</p>
<p>
A, READ
</p>
<p>
BIOSC
</p>
<p>
HL, SECBUF
</p>
<p>
5.4
</p>
<p>
Eee
</p>
<p>
HL.
</p>
<p>
fy CAL)
</p>
<p>
SESH
</p>
<p>
NZ, oNDS
</p>
<p>
DE, DFCE
</p>
<p>
BB+
</p>
<p>
Hi.
</p>
<p>
DE
</p>
<p>
A, (DE)
Crit)
</p>
<p>
AWWA
ZatghlS
</p>
<p>
A.WRITE
BIOSC
2. FRMSG
EXIT
</p>
<p>
HL
BC
DE.32
</p>
<p>
LDL (DRM)
</p>
<p>
LD
ADD
JR
LD
FOF
INC
LD
LD
</p>
<p>
DE, -4
</p>
<p>
HL, DE
</p>
<p>
NC, NOF ILE
(DRM) &laquo;HL
BC
</p>
<p>
EC
</p>
<p>
HB
</p>
<p>
Lee
</p>
<p>
Page 02,
</p>
<p>
;Store in SPT
3Point to DRM field
</p>
<p>
7Get number of directory
pentries
</p>
<p>
;Store in DRM
iPoint to OFF field
</p>
<p>
3Get first track number
</p>
<p>
:Save track number
3Set track
</p>
<p>
iClear sector numoer
3;Save sector number
Get XLT vector address
yTranslate sector number
</p>
<p>
1Get physical sector nbr
yinta BC
;Set sector
</p>
<p>
tRead sector
</p>
<p>
sFoinsn to first entry
ySet entry count
</p>
<p>
Save entry count
</p>
<p>
iSave entry address
</p>
<p>
3Get delete flag
;Deletea entry?
</p>
<p>
gNO Ff. Sip at
</p>
<p>
aFoint to user name
;Compare name and tyoe
rRPoint to next character
</p>
<p>
iAre characters equal?
</p>
<p>
ylIgnore bit 7)
the 7 Ship
</p>
<p>
g.a0p Lil times
Restore entry address
iRestore entry count
undelete!!!
Directory sector
</p>
<p>
3Go write sector
</p>
<p>
:Go say &lsquo;FILE FOUND&rsquo;
;Restore entry address
pRestore entry count
sFoint to next entry
</p>
<p>
:Do 4 entries
7Get entry count
;Decrement by 4
</p>
<p>
3All done =&gt; skip
jSave entry count
;Restore sector number
yincrement
</p>
<p>
tPut into Ht.
</p>
<p>
40
</p>
<?php columnEnd(1); ?>
