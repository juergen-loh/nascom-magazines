<?php columnStart(1); ?>
<p>
Program 2
VARIABLE DELAY APPROX. 0.5 &ndash; 120 SECS
</p>
<p>
0000
</p>
<p>
Q00e2
0003
0006
0007
0008
0009
QOOB
o00cc
OOOE
</p>
<p>
Simple machine code delay by D. R. Hunt.
M-80 1 Apr 1983 17:37 PAGE 1
</p>
<p>
06 00
</p>
<p>
cs
</p>
<p>
01 0000
OB
</p>
<p>
18
</p>
<p>
Bi
</p>
<p>
20 FB
Ct
</p>
<p>
10 F4
cg
</p>
<p>
LOOP:
</p>
<p>
INLOOP:
</p>
<p>
3; Simple delay routine D. R. Hunt
</p>
<p>
LD
</p>
<p>
PUSH
LD
DEC
LD
OR
JR
POP
DINZ
RET
</p>
<p>
B,O
</p>
<p>
BC
</p>
<p>
BC,O
</p>
<p>
BC
</p>
<p>
A,B
</p>
<p>
C
</p>
<p>
NZ, INLOOP
BC
</p>
<p>
LOOP
</p>
<p>
ae ery
</p>
<p>
Load B with time delay
</p>
<p>
Save B during inner loop
Prime inner loop counter
Count down one
</p>
<p>
Copy B to A
</p>
<p>
4 set only if A and C = 00
If not 00 go round again
</p>
<p>
Get B back
</p>
<p>
Dec B, if not 2, round again
All done, so go home
</p>
<p>
Program 3
</p>
<p>
ene em
</p>
<p>
Ammendment to SYSB15 and SYSB16 module SYSB5.MAC
</p>
<p>
EERE EEEEEE EERE EEE EERE NER
</p>
<p>
eHHESHH STATUS OF LIST DEVICE *## 40H
JHE EEE HH IHF HEHEHE HEHE
</p>
<p>
Used by DESPOOL to improve console performance
If list device is busy, return A set to 0
</p>
<p>
;
;
listat:
</p>
<p>
3 TTY:
</p>
<p>
5 ULI:
Istcen:
</p>
<p>
lfree:
</p>
<p>
lbusy:
</p>
<p>
14
and
cp
jr
cp
jr
</p>
<p>
or LPT:
in
</p>
<p>
if
bit
else
pit
endif
gr
</p>
<p>
if
in
</p>
<p>
if
bit
gr
else
rla
jr
endif
endif
dr
</p>
<p>
if
in
rra
jr
</p>
<p>
endif
</p>
<p>
la
ret
ld
ret
</p>
<p>
a, (iobyte)
OcOh
</p>
<p>
40h
a,lfree
OcOh
z,latcen
</p>
<p>
a, (uarts)
gemini
5,a
</p>
<p>
6,a
2,lbusy
Lhand
</p>
<p>
a, (phand)
gemini
</p>
<p>
4,a
zg, busy
</p>
<p>
ne, lbusy
lfree
ultcen
</p>
<p>
a, (cenpad)
</p>
<p>
c,lbusy
</p>
<p>
a,Offh
</p>
<p>
a,O
</p>
<p>
aR om
</p>
<p>
-
</p>
<p>
on
</p>
<p>
&lsquo;
</p>
<p>
on
</p>
<p>
IOBYTE
Printer type
CRT:
</p>
<p>
ULI:
</p>
<p>
Check serial port
</p>
<p>
Check handshake
</p>
<p>
Test CTS
</p>
<p>
Test bit 7
</p>
<p>
Check parallel printer
</p>
<p>
Free
</p>
<p>
Busy
</p>
<p>
48
</p>
<?php columnEnd(1); ?>
