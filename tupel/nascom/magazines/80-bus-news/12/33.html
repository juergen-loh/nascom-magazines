<?php columnStart(1); ?>
<p>
SIMPLE HANGMAN
</p>
<p>
OEI9
OBC
OBIF
OE22
OH25
</p>
<p>
OE28
OE2B
OB2C
OE2D
OB2F
OE30
OE32
OE35
OE37
</p>
<p>
OEZA
OESD
OE40
OB43
OE45
OE48
</p>
<p>
OE4B
OE4E
</p>
<p>
ORS
</p>
<p>
OE54
OE56
</p>
<p>
OE59
OESA
</p>
<p>
OESD
OE6O
O61
OB62
OB64
O65
OB66
OE68
OE6B
OR6E
OE71
</p>
<p>
OET3
OET4
OET5
OET6
</p>
<p>
OET8
OETB
OB7C
OE7D
</p>
<p>
21
cD
eD
21
cD
</p>
<p>
ai
TE
BT
28
23
E6
cD
18
cD
</p>
<p>
21
</p>
<p>
cep
oD
FE
CA
C3
</p>
<p>
ai
cD
</p>
<p>
cD
</p>
<p>
FE
cA
</p>
<p>
47
cD
</p>
<p>
21
</p>
<p>
TE
BT
28
23
Ba
20
24
</p>
<p>
cD
cD
18
</p>
<p>
78
77
23
36
</p>
<p>
BA
3C
27
32
</p>
<p>
OD65
OBEQ
OEE2
OD83
OBEQ
</p>
<p>
OCAD
</p>
<p>
08
TF
0C93
F4
OBDF
op91
OEE9
Oc8s
59
ODD3.
OCAS
</p>
<p>
oDic
ORES
</p>
<p>
0C83
03
</p>
<p>
OCA3
OBE2
</p>
<p>
OCB4
</p>
<p>
00
</p>
<p>
OCB3
</p>
<p>
OCB3
</p>
<p>
MACRO--80 3.43
</p>
<p>
LD HL,MSG6
CALL SNDTAT
CALL CRLF1
RSTART: LD HL,MSG7
CALL SNDTXT
; Display the word
LD HL,WBUF
LD A, CHL)
OR A
JR Z,CONT
INC HL
AND 7FH
CALL OUTCHR
JR LOOPS
CALL CRLF2
</p>
<p>
LOOP4:
</p>
<p>
CONTI:
</p>
<p>
3; Ask if the game is to
</p>
<p>
LD HL, MSes
CALL SNDTXT
CALL GETCHR
cp wee
JP Z,START
JP EXIT
Ask for a letter
cONT2:
CALL SNDTXT
Get a letter
CALL GETCHR
</p>
<p>
7
</p>
<p>
CP CTRLC
JP Z,EXIT
</p>
<p>
LD B,A
CALL CRLM
</p>
<p>
LD HL, CHRTRD
LD A, (HL)
OR A
</p>
<p>
IR Z,CONTS
INC HL
</p>
<p>
cP B
</p>
<p>
JR NZ, LOOPS
LD HL,MSG3
CALL SNDTXT
CALL CRLF1
JR LOOPS
</p>
<p>
LOOPS:
</p>
<p>
eR en em om ne em em em en
</p>
<p>
PAGE 1-5
\
Point to &lsquo;Lose&rsquo; message
Send a newline :
Point to &lsquo;The word was&rsquo; message
</p>
<p>
Point to the word
</p>
<p>
Get a character
</p>
<p>
Test for end of word
</p>
<p>
If it is, skip the rest
Point to next character
Strip off any flags
Send the character
</p>
<p>
Go and get the next
Send two newlines
</p>
<p>
continue
</p>
<p>
.
,
</p>
<p>
&lsquo;
</p>
<p>
.
s
</p>
<p>
OR a eR a em a tm om
</p>
<p>
.
:
.
</p>
<p>
,
</p>
<p>
Send the &lsquo;More?&rsquo; message
</p>
<p>
Get an input
</p>
<p>
Compare against &lsquo;Y&rsquo;
</p>
<p>
If &lsquo;Y&rsquo; start again&nbsp;...
oes @lse exit.
</p>
<p>
LD HL,MSG2 3 Point to the message
</p>
<p>
Test the character for an exit
</p>
<p>
Test against &lsquo;exit character&rsquo;
</p>
<p>
Save the letter and send a newline
</p>
<p>
Send a new line
</p>
<p>
Now check to see if this letter has been used before
</p>
<p>
Point to the store of tried letters
Get a letter from CHRTRD
</p>
<p>
Test it for end
</p>
<p>
It is end so skip the rest
</p>
<p>
Point to next if CHRTRD
</p>
<p>
Test it against B
</p>
<p>
Its not the same so get the next
</p>
<p>
It is the same so tell &lsquo;em...
</p>
<p>
see Send a newline&nbsp;...
&laquo;++ and go round again
</p>
<p>
;} Save the letter in CHRTRD and stick a new 0 on the end
</p>
<p>
CONTS: LD A,B
LD (HL),A
INC HL
</p>
<p>
LD (HL),0
</p>
<p>
aR eR ee
</p>
<p>
Put the letter in A
Save it in CHRTRD
Point to next in CHRTRD
Stick a 0 there
</p>
<p>
; Count the try in the TRYS counter
</p>
<p>
LD A, (TRYS)
INC A
</p>
<p>
DAA
</p>
<p>
LD (PRYS),A
</p>
<p>
:
</p>
<p>
3
;
*
z
$
</p>
<p>
Get the trys in A
Count up one
</p>
<p>
Convert to packed BCD
Save it again
</p>
<p>
SIMPLE HANGMAN
</p>
<p>
OESO
OE83
OES4
OE85
OE87
0888
OBBA
OESC
OE8D
OBESE
</p>
<p>
O90
O93
OB94
O95
O97
O99
OEQA
</p>
<p>
OE9C
OEOF
OEA2
ORAS
</p>
<p>
OBAS
OBAB
OBAE
OEBt
OEB4
OEB7
</p>
<p>
OEBA
OEBD
OEBE
OEBF
OECO
OEC2
ORC4
OECE
OECB
OECB
OECD
OECF
OED2
OBD4
OED7
OED9
OEDC
</p>
<p>
24
</p>
<p>
TE
BT
28
BS
20
C6
TT
23
18
</p>
<p>
21
TE
25
FE
30
BT
20
</p>
<p>
21
cD
cD
C3
</p>
<p>
2i
cD
3A
cD
ai
cD
</p>
<p>
24
</p>
<p>
TE
23
BT
28
FE
38
B6
cD
18
3E
cD
3E
cD
18
eD
C3
</p>
<p>
OCAg
</p>
<p>
09
</p>
<p>
03
80
</p>
<p>
Y3
OCAD
</p>
<p>
80
FA
</p>
<p>
oc
</p>
<p>
ODB1
OBEQ
OEE2
OB22
</p>
<p>
OD53
OBES
OCB3
OBF2
OD5F
ORES
</p>
<p>
OCAS
</p>
<p>
MACRO-80 3.43 PAGE 1-6
</p>
<p>
; Scan through the word to see if the character is there
LD HL,WBUF Point to the word
</p>
<p>
LD A, (HL) Get a character
</p>
<p>
OR A Test it for end
</p>
<p>
JR Z,CONTS Is end, so skip the rest
</p>
<p>
cP B Compare with the letter
</p>
<p>
JR NZ, CONTS4 No compare, so skip flagging it
ADD A,80H Set bit 7 to flag it...
</p>
<p>
LD (HL),A &laquo;+e and put it back
</p>
<p>
INC HL Point to next character
</p>
<p>
;
LOOP6: ;
;
;
;
;
;
3
;
JR LOOPG 3; Go round again
f
5
;
}
j
;
;
5
</p>
<p>
CONT4:
</p>
<p>
5 Test the word to see if all characters flagged (win)
CONTS: Point to the word
LOOP7: Get a character
Point to next
Test if greater than 7FH
It is, so get next
</p>
<p>
OR A \ It&rsquo;s not so test for end
</p>
<p>
IR NZ, CONT6 It&rsquo;s not end, so skip the rest
; All flagged, so tell &lsquo;em you&rsquo;ve won
</p>
<p>
LD HL, MSG9 ; Send &lsquo;Win&rsquo; message
</p>
<p>
CALL SNDTXT
</p>
<p>
CALL CRLF ; Send a newline
</p>
<p>
JP RSTART ; Go back to &lsquo;The word was&rsquo; message
3; Not all flagged yet, so report results
CONTG6: LD HL,MSG4 ; Send &lsquo;Trys&rsquo; message
</p>
<p>
CALL SNDTXT
</p>
<p>
LD A, (TRYS) ; Send the number of trys
</p>
<p>
CALL BOHEX
</p>
<p>
LD HL,MSG5 ; Send &lsquo;Spaces&rsquo; message
</p>
<p>
CALL SNDTXT
; Print the word double spaced with dashes where not flagged
LD HL, WBUF Point to the word
LD A, CHL) Get a character
INC HL Point to next character
OR A Test for end
JR Z,CONTS Is end, so skip rest
CP 80H Isn&rsquo;t end, so test if flagged
JR C,CONTT Isn&rsquo;t flagged, so skip display
AND 7FH Strip the flag...
CALL OUTCHR +++ and display it
JR conts Skip round &lsquo;unflagged&rsquo; case
LD A,"-&rdquo; Not flagged, so send a &lsquo;-&rsquo; instead
CALL OUTCHR
ED A,&rdquo; &ldquo;
CALL OUTCHR
JR LOOPS
CALL CRLF2
JP LOOPS
</p>
<p>
LD HL, WBUF
LD A, (HL)
INC HL
</p>
<p>
CP 80H
</p>
<p>
JR NC,LOOP7
</p>
<p>
LOOPS:
</p>
<p>
CONT7:
</p>
<p>
BR ER eR eR eR em oe em om em am
</p>
<p>
cONTS: Send a space to double space it
</p>
<p>
on
</p>
<p>
Go and get the next
Send two newlines
Go back to start of main loop
</p>
<p>
CONTS:
</p>
<p>
33
</p>
<?php columnEnd(1); ?>
