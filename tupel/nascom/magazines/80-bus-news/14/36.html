<?php columnStart(1); ?>
<p>
DRIVE ROUTINES FOR THE GEMINI GM822 REC MODULE
</p>
<p>
O01C
</p>
<p>
0001
</p>
<p>
0002
000A
OooD
OO0A
0005
</p>
<p>
0082
0082
0085
0088
008B
0088
</p>
<p>
O01c
QOD
OO1k
oOO1F
</p>
<p>
OOFF
OOFF
0000
0010
</p>
<p>
0000
Oo0c
Q000B
OOOF
OORO
0080
0040
</p>
<p>
14 Sep 1982
</p>
<p>
14:48 PAGE 1
</p>
<p>
Title DRIVE ROUTINES FOR THE GEMINI GM822 RTC MODULE
</p>
<p>
-Comment &lsquo;
</p>
<p>
D.
+280
GLOBAL RTC
BASE EQU 1CH
</p>
<p>
; CP/M equates
</p>
<p>
CONIN EQU 1
CONOUT EQU 2
LININ EQU 10
</p>
<p>
oR EQU ODH
LF EQU OAH
BDOS EQU 0005H
</p>
<p>
; CP/M work spaces
</p>
<p>
ARGS RQU 0082H
THOURS QU ARGS+0
IMINS RQu ARGS+3
IDAY EQU ARGS +6
IMONTH QU ARGS+9
IDYWK BQU
</p>
<p>
; Port assignments
</p>
<p>
PDATA QU BASE
PADDR QU
PCDATA EQU
PCADDR EQU
</p>
<p>
BASE+2
BASE+3
</p>
<p>
3; Control instructions
CMODE EQU OFFH
ALLIN EQU OPFH
ALLOUT QU Qo
INTOUT QU 10H
</p>
<p>
3; Addresses for RTC
TEST EQU 0
TMONTH EQU 12
START EQU 44
INSTAT HQU 15
NOSTRB EQU 0E0H
RDSTRB QU 80H
WRSTRB EQU 40H
</p>
<p>
ARGS+12
</p>
<p>
on
</p>
<p>
aN ee en om en on
</p>
<p>
a a ee ek em on
</p>
<p>
en om en on
</p>
<p>
on em am
</p>
<p>
Adapted from the original routines by
</p>
<p>
09/09/82&rdquo;
</p>
<p>
Base address of control PIO
</p>
<p>
Console input routine
Console output routine
Line input
</p>
<p>
Carriage return
</p>
<p>
Line feed
</p>
<p>
BDOS jump vector
</p>
<p>
Input arguments
Tnput hours
</p>
<p>
Input minutes
Input day
</p>
<p>
Input month
</p>
<p>
Input day of week
</p>
<p>
Data port for commands
Data port for commands
Control port for data
Control port for data
</p>
<p>
Control mode
</p>
<p>
All inputs
</p>
<p>
All outputs
</p>
<p>
All out except INT input
</p>
<p>
No strobe or select
Read strobe on
Write atrobe on
</p>
<p>
DRIVE ROUTINES FOR THE GEMINI qaMa22
</p>
<p>
0000&rdquo;
0002&rdquo;
0006&rdquo;
OO0A&rsquo;
OOOE&rsquo;
0012!
0016&rsquo;
OO1A&rdquo;
OO1E&rsquo;
0022&rdquo;
0025&rdquo;
0029&rdquo;
002D&rsquo;
0031&rdquo;
0035&rdquo;
0039&rsquo;
003D&rsquo;
0041&rdquo;
</p>
<p>
0049&rsquo;
004D&rsquo;
0051&rdquo;
0055&rdquo;
0059&rdquo;
o05c&rsquo;
0058&rdquo;
0062&rdquo;
0066!
006A&rdquo;
o06c&rsquo;
0070&rdquo;
0074&rdquo;
0078&rdquo;
oo7c&rsquo;
0080!
</p>
<p>
o08s&rsquo;
oo8c&rdquo;
oosD&rsquo;
</p>
<p>
30
30
25
58
30
58
31
oD
</p>
<p>
30
3A
30
58
30
58
39
OA
</p>
<p>
3A
30
20
58
20
58
38
00
</p>
<p>
OA
20
65
20
</p>
<p>
6D
</p>
<p>
4D
3A
44
20
6F
69
</p>
<p>
65
69
3P
</p>
<p>
20
20
20
B
1
6F
</p>
<p>
6F
</p>
<p>
30
30
20
20
</p>
<p>
20
32
</p>
<p>
om a oe
</p>
<p>
TTLMES +
</p>
<p>
STMES:
</p>
<p>
ERNES :
</p>
<p>
CRLF:
</p>
<p>
DEFB
DEFB
</p>
<p>
DEFB
DEFB
</p>
<p>
DEFB
</p>
<p>
DEFB
DEFB
</p>
<p>
DEFB
</p>
<p>
DEFB
</p>
<p>
DEFB
</p>
<p>
RTC MODULE M-BO
Messages
</p>
<p>
CR, LP
&lsquo;
</p>
<p>
CR, LF, CR, LF
</p>
<p>
&lsquo;Set time in the form:- HH:MM DD:MM.D&rsquo;
</p>
<p>
&lsquo;
</p>
<p>
or T for time.&rsquo;
</p>
<p>
OR, LF
&lsquo;Enter time 7 &lsquo;,0
</p>
<p>
&lsquo;Hit any key to start clock &lsquo;,0
</p>
<p>
&lsquo;Error&rsquo;
</p>
<p>
CR, LF,O
</p>
<p>
3 Output string
</p>
<p>
HOURS:
</p>
<p>
DAYMN:
DAY:
MONTH:
</p>
<p>
DEFB
</p>
<p>
DEFB
DEFB
DEFB
</p>
<p>
*00:00:00.0
</p>
<p>
&ldquo;XXX &lsquo;
&lsquo;oo t
&ldquo;EXX 1982&rsquo;,OR,LF,O
</p>
<p>
14 Sep 1982
</p>
<p>
14:48
</p>
<p>
HEE
</p>
<p>
wee RTC TIME SET +e&rsquo;
</p>
<p>
PAGE 1-1
</p>
<?php columnEnd(1); ?>
