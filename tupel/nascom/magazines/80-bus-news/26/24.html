<?php columnStart(1); ?>
<p>
PRESTEL for Nascom&nbsp;2 &amp; Gemini IVC M-80
PREST V8, PRESTEL terminal program. RL. 22/11/83
</p>
<p>
0331 CD 0005 call jbdos
0334 FE 03 ep cone
0336 CA O11E jp 2,jcone
0339 PE 54 ep &ldquo;T&rdquo;
</p>
<p>
0338 CA 0383 jp z,conlin
O33 1B 1A 1d e,tah
0340 OF 02 ld c,2
</p>
<p>
0342 eD 0605 call jbdos
</p>
<p>
if autodl
</p>
<p>
diali: ld de,msgwdt
ld c,pstrng
call jbdos
1d a,30H
out (dialpd),a
1a b,20
call dly255
djnz $-%
ld de,msgdlg
1d c,pstrng
call jbdos
ld hl, pnum
</p>
<p>
dial2: ld a,(h1)
or a
jr z,dial4
sub 30h
jr nzg,dial3
1d a,10
dial3: ld b,a
call pulse
djnz $-3
push be
1d b,4
eall dly255
djng $-3
pop be
ine hl
jr dial2
</p>
<p>
dial4: 1d de,msgdc
1d c,pstrng
call jbdos
endif
</p>
<p>
5 Dec 1983 22:22 PAGE 1-4
</p>
<p>
,
</p>
<p>
?
</p>
<p>
connect line &amp; on to term
Clear screen
Console output
</p>
<p>
close both relays
wait 5 secs, increase if..
your exchange needa longer
</p>
<p>
finished if null
</p>
<p>
dial &ldquo;oO&rdquo;
</p>
<p>
1 sec post digit pause
</p>
<p>
; Wait for LF then send Customer identity number
</p>
<p>
0345 06 BO cick:
0347 cs eickt: push be
</p>
<p>
0348 48 ld c,d
</p>
<p>
0349 DB O2 cick2: in a,(uarts)
0343 17 rla
</p>
<p>
O%4C 30 06 jr ne,cick3
O34E DB O1 in a, (uartd)
0350 FE OA cp Oah
</p>
<p>
0352 28 OD dr z,cisnd
</p>
<p>
1d b,OBOH
</p>
<p>
i
</p>
<p>
try for 45 secs (80H= 20")
</p>
<p>
PRESTEL for Nascom&nbsp;2 &amp; Gemini IVC M-80
</p>
<p>
5 Dec 1983 22:22 PAGE 1-5
</p>
<p>
PREST V8, PRESTEL terminal program. RL. 22/11/83
</p>
<p>
0354
0355
0357
0359
O35A
O35C
O35F
</p>
<p>
0361
0362
0365
0367
036A
</p>
<p>
036C
036D
03&rsquo;70
03571
0373
</p>
<p>
0374
0375
0378
O37A
O37D
O37F
0381
0384
0385
0387
038A
038C
O38F
0391
0394
0396
0399
O39A
0398
039C
O359F
O3A0
O3A2
O3A4
O3AT7
</p>
<p>
O3AA
O3AC
O3AE
O3B0
O3B2
O3B4
O3B5
</p>
<p>
oD
20
10
Ct
10
14
18
</p>
<p>
ct
ai
06
cD
18
</p>
<p>
78
cD
23
10
cg
</p>
<p>
b9
ai
06
cD
1E
OR
</p>
<p>
3E
18
35
18
38
</p>
<p>
AT
</p>
<p>
F2
Fo
</p>
<p>
EB
</p>
<p>
O26F
3E
</p>
<p>
O10B
OA
036C
TB
</p>
<p>
0448
Fg
</p>
<p>
0285
04
</p>
<p>
0005
O11E
</p>
<p>
cick3: dec c
jr nz,cick2
djnz cick2
pop be
djnz eickt
ld de,megef
jr clear
</p>
<p>
cisnd: pop be
ld hl,cinum
1d b,10 ; Send 10 digits
eall atgend
jr DTERM 3 on to terminal routines
</p>
<p>
3; Send &lt;HL&gt; string to serial port, &lt;B&gt; chars.
stgsnd: 14 a,(hl)
</p>
<p>
call serout
</p>
<p>
ine hl
</p>
<p>
djnz stgand
</p>
<p>
ret
</p>
<p>
3; Exit routines
exit: exx
ld hl,sigoff ; send sign off (*90&pound;) twice
ld b,9
call stgand
1d e,bell
ld c,condir ; sound bell to acknowledge &ldquo;C
call jbdos
exx
ld a,ibh 3; Restore screen if inverted
eall putvid
1a a, &ldquo;J&rdquo;
call putvid
ld b,20 3 5 sec delay, in case..
call dly255 3 &laquo;mailbox message
djnz $-3
ld hil, buffer ; Store &lt;DE&gt; for print..
ld (h1),e } +.0r save prog
ine hl
1d (hi),4
ld de,msgcir
clear: xor a
out (dialpd),a
ld c,pstrng
call jbdos
dp jeone
</p>
<p>
open both relays
print message
</p>
<p>
3 Dialling utillities
dly255: ld a,255
jr delay
aly66: ld a,74 ; Nominal 66 millisecs...
dv delay se+e AOTA to allow for relay
dly33: ld a,33
delay: push be as &ldquo;delay:&rdquo; in SYS
1d b,a ; delay = &lt;A&gt; msecs
</p>
<p>
24
</p>
<?php columnEnd(1); ?>
