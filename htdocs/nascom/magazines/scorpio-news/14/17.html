<?php columnStart(1); ?>
<h3>
A beginners guide to base 2 logarithms
</h3>
<p>
For those of you who, like me, left school with Maths &lsquo;O&rsquo; level or alternatively finished school
a long time ago (or both), here is a quick refresher. The notation that I shall use to represent
powers is borrowed from Microsoft MBASIC. e.g. ten squared will be shown as 10^2 while ten cubed
will be shown as 10^3.
</p>
<p>
Consider the following:
</p>
<table class="dec-bin-equivalent">
<tr><th colspan=3>Decimal</th><th colspan=4>Binary</th><th colspan=2>Equivalent</th></tr>
<tr><td>1</td><td>=</td><td>10^0</td><td>1</td><td>=</td><td>2^0</td><td>=</td><td>1</td><td></td></tr>
<tr><td>10</td><td>=</td><td>10^1</td><td>10</td><td>=</td><td>2^1</td><td>=</td><td>2</td><td></td></tr>
<tr><td>100</td><td>=</td><td>10^2</td><td>100</td><td>=</td><td>2^2</td><td>=</td><td>4</td><td></td></tr>
<tr><td>1000</td><td>=</td><td>10^3</td><td>1000</td><td>=</td><td>2^3</td><td>=</td><td>8</td><td></td></tr>
<tr><td>10000</td><td>=</td><td>10^4</td><td>10000</td><td>=</td><td>2^4</td><td>=</td><td>16</td><td></td></tr>
<tr><td>100000</td><td>=</td><td>10^5</td><td>100000</td><td>=</td><td>2^5</td><td>=</td><td>32</td><td></td></tr>
<tr><td>1000000</td><td>=</td><td>10^6</td><td>1000000</td><td>=</td><td>2^6</td><td>=</td><td>64</td><td></td></tr>
</table>
<p>
These are simply powers of 10 and powers of 2. The similarities between the two number systems
are quite evident and most, if not all, assembly language programmers should have seen individual
bits in a byte referred to as powers powers of 2. The usage of powers of two in all probability explains
why the bits in a byte are numbered from 0 to 7 rather than from 1 to 8.
</p>
<p>
The relationship between logarithms and powers is extremely close as can be seen from the
examples below:
</p>
<table class="log10-log2">
<tr><td>log10 of</td><td>1</td><td>= 0</td><td>log2 of</td><td>1</td><td>= 0</td></tr>
<tr><td>log10 of</td><td>10</td><td>= 1</td><td>log2 of</td><td>2</td><td>= 1</td></tr>
<tr><td>log10 of</td><td>100</td><td>= 2</td><td>log2 of</td><td>4</td><td>= 2</td></tr>
<tr><td>log10 of</td><td>1000</td><td>= 3</td><td>log2 of</td><td>8</td><td>= 3</td></tr>
<tr><td>log10 of</td><td>10000</td><td>= 4</td><td>log2 of</td><td>16</td><td>= 4</td></tr>
<tr><td>log10 of</td><td>100000</td><td>= 5</td><td>log2 of</td><td>32</td><td>= 5</td></tr>
<tr><td>log10 of</td><td>1000000</td><td>= 6</td><td>log2 of</td><td>64</td><td>= 6</td></tr>
</table>
<p>
Logarithms of intermediate values do not fall on a linear scale. i.e. log10 of 50 is not 1.5
but is, in fact, 1.69897 to five decimal places. That is to say that 10^1.69897 = 50. Base 2
logarithms follow exactly the same rules as for base 10 logs. Log2 of 3 is 1.58496 to five decimal
places. i.e. 2^1.58496 = 3.
</p>
<p>
The integral part of a logarithm is known as the characteristic and the fractional part is known
as the mantissa. For the purposes of explaining BSH, only the characteristic the base 2
logarithm is required. To simplify matters further, Digital Research have kindly done the
calculations for us so if you came out of the last couple of paragraphs with a headache, don&rsquo;t
worry.</p>
<h3>
How BSH, BLM and EXM are used
</h3>
<p>
For completeness, I have copied the tables for the values of BLM and BSH provided by Digital
Research. The values, as may be expected, are dependant upon block size (BLS).
</p>
<table class="bls-bsh-blm">
<tr><th>BLS</th><th>BSH</th><th>BLM</th></tr>
<tr><td>1024</td><td>3</td><td>7</td></tr>
<tr><td>2048</td><td>4</td><td>15</td></tr>
<tr><td>4096</td><td>5</td><td>31</td></tr>
<tr><td>8192</td><td>6</td><td>63</td></tr>
<tr><td>16384</td><td>7</td><td>127</td></tr>
</table>
<p>
Having obtained values for BSH from the table (or by calculation), what are they used for?
Below is a simple program in BASIC that will calculate with a remainder. This program is
normally used to calculate values for a 16 bit POKE (i.e. to two consecutive memory location) where
X may contain any value between 0 and 65535.
</p>
<?php columnEnd(1); ?>
