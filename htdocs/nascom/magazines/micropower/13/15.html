<?php columnStart(1); ?>
<pre>
1680 ; NO MATCH, SO CONVERT TO REM AND DISPLAY
1690 ;ADDRESS, LINE NUMBER (DECIMAL) AND CODE
1700 ;
0D5F F1 1710 NOTM POP AF
0D60 E1 1720 POP HL ; DISPLAY ON SCREEN
0D61 E5 1730 PUSH HL ; DETAILS OF EACH
0D62 DF66 1740 SCAL &pound;66 ; DISPLAY HL IN HEX
0D64 62 1750 LD H, D
0D65 6B 1760 LD H, E
0D66 CD890D 1770 CALL HEXDEC ; CONVERT HEX. TO DEC.
0D69 DF69 1780 SCAL &pound;69 ; OUTPUT ONE SPACE
0D6B E1 1810 POP HL
0D6C 7E 1820 LD A, (HL)
0D6D DF68 1830 SCAL &pound;68 ; PRINT ACC. IN HEX
0D6F DF7E 1840 SCAL &pound;7E ; OUTPUT TWO SPACES
0D71 DF69 1850 SCAL &pound;69 ; OUTPUT ONE SPACE
0D73 3E8E 1890 LD A, &pound;8E ; LOAD CODE FOR REM
0D75 773 1900 LD (HL), A ; REWRITE AS REM
0D76 3A2A0C 1910 LD A, (&pound;0C2A) ; SCREEN FULL?
0D79 FE0B 1920 CP &pound;0B ; CURSOR POSITION
0D7B 200B 1930 JR NZ, NOTFUL ; PASS UNLESS
0D7D 3A290C 1940 LD A, (C29) ; NEXT OUTPUT SCROLLS
0D80 FEAA 1950 CP &pound;AA
0D82 2004 1960 JR NZ, NOTFUL
0D84 CF 1970 RST 8 ; WAIT FOR KEY PRESS
0D85 3E0C 1980 LD A, &pound;0C ; CLEAR SCREEN CODE
0D87 F7 1990 RST &pound;30 ; NAS-SYS OUTPUT
0D88 C9 2000 NOTFUL RET ; RETURN
2010 ;
2020 ; SUBROUTINE TO CONVERT HEX LINE NUMBER
2030 ; TO DECIMAL (NUMBER IN HL REGS.)
2040 ;
0D89 0E04 2050 HEXDEC LD C, A ; MAX. LEADING SPACES
0D8B 0600 2060 LD B, 0
0D8D D5 2070 PUSH DE
0D8E 110A00 2080 LD DE, 10
0D91 D5 2090 PUSH DE
0D92 C5 2100 PUSH BC
0D93 CDBC0D 2110 DODIV CALL DIVIDE ; DIVIDE SUB ROUTINE
0D96 78 2120 LD A, B
0D97 B1 2130 OR C ; IF ZERO, FINISHED
0D98 CAA30D 2140 JP Z, DIVEND
0D9B E3 2150 EX (SP), HL ; ANOTHER DIV LOOP
0D9C 2D 2160 DEC L
0D9D E5 2170 PUSH HL
0D9E 60 2180 LD H, B ; PUT VALUE IN HL
0D9F 69 2190 LD L, C
0DA0 C3930D 2200 JP DODIV
0DA3 C1 2210 DIVEND POP BC
0DA4 0D 2220 LEADSP DEC C ; DEC. LEADING SPACES
0DA5 79 2230 LD A, C
0DA6 B7 2240 OR A ; CHECK SPACES LEFT
0DA7 FAB00D 2250 JP M, DONESP ; IF MINUS, DONE
0DAA 3E20 2260 LD A, &pound;20 ; ASCII SPACE CODE
0DAC F7 2270 RST &pound;30 OUPUT ROUTINE
0DAD C3A40D 2280 JP LEADSP
</pre>
<?php columnEnd(1); ?>
