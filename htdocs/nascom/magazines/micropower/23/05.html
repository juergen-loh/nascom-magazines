<?php columnStart(1); ?>
<p>
10
20
30
40
60
70
go
90
</p>
<p>
110
120
130
140
150
160
</p>
<p>
&gt; RAM RRSR EARS ESE RR EERE RASA RARR SERRE SEAR ESTES
oe DEMONSTRATION &reg;
&lsquo;# CLOCK SET-UP PROGRAM &amp;.R. KIRBY MAY 82)
7 AREA ERA EAE EEE
PRINT CHR$(26) :REM CLEAR SCREEN ROUTINE
PORT=64 =REM ADDRESS OF MM 58174
PRINT &ldquo;To set up internal clock enter data as requested,&rdquo;
PRINT &ldquo;to start clock, hit Return.
INPUT &ldquo;Enter date eg. 06/05/82 &ldquo;;D$
IF LEN(D$)&lt;8 OR LEN(D%)&gt;8 THEN 110
IF VAL(LEFT$(D$,2))&gt;31 THEN 110
IF VAL (MID$(D$,4,2))&gt;12 THEN 110
REM INPUT TIME AND CHECK IF VALID
INPUT &ldquo;Enter time eg. 16:59 &ldquo;37S
</p>
<p>
170 IF LEN(T$)&lt;5 OR LEN(T$)&gt;5 THEN 160
180 IF VAL(LEFT$(T$,2))&gt;24 THEN 160
</p>
<p>
190 IF VAL(MID$(T%,4,2))&gt;59 THEN 160
</p>
<p>
210 REM SET TIME AND DATE
</p>
<p>
220 DUT PORT,O :REM INITIALISE
</p>
<p>
230 OUT PORT+14,0 REM STOP CLOCK
</p>
<p>
240 QUT PORT+4, VAL (MID$(TS,5,1)) =REM MINUTES.
</p>
<p>
250 OUT PORT+S, VAL (MIDS(T$,4,1)) REM TENS OF MINUTES
</p>
<p>
260 OUT PORT+4, VAL (MID$(T$,2,1)) REM HOURS
270 OUT PORT+7,VAL(LEFTS(T$,1)) REM TENS OF HOURS
280 QUT PORT+S, VAL (MID$(D$,2,1)) REM DAYS
</p>
<p>
290 QUT PORT+9, VAL (LEFTS (DS, 1)) REM TENS OF DAYS
300 OUT PORT+11, VAL (MID$(D$,5,1)) REM MONTH
</p>
<p>
310 OUT PORT+12, VAL(MID$(D$,4,1)&gt; =REM TENS OF MONTHS.
320 REM CHECK FOR LEAP YEAR AND SET ACCORDINGLY
</p>
<p>
330 X=VAL(MID$(D$,7,2)) AND 3 :REM LEAVE YEAR ON A 0-4 BASIS
340 IF X=0 THEN OUT PORT+13,8
</p>
<p>
350 IF X=1 THEN OUT PORT+13,4
</p>
<p>
360 IF X=2 THEN OUT PORT+13,2
</p>
<p>
370 IF X=3 THEN DUT PORT+13,1
</p>
<p>
390 REM CLOCK START ROUTINE
</p>
<p>
400
</p>
<p>
INPUT &ldquo;Hit Return to start clock
</p>
<p>
410 OUT PORT+14,1
</p>
<p>
450 *AKANERERE ARSE ER ER SR AS RESORT
450 &lsquo;* READ CLOCK PROGRAM G.R. KIRBY MAY 82 &amp;
AGO 7 RAMRARARER ENTE ET RASA E ORES S EOS ETRE EE
470 PRINT CHR$(26) REM CLEAR SCREEN
</p>
<p>
480
</p>
<p>
PORT=64+2 =REM ADDRESS OF MM 58174 SECONDS REGISTER
</p>
<p>
490 DIM D(12)
</p>
<p>
500 INPUT &ldquo;Enter year eg. 82 &ldquo;;Y#
510 PRINT CHR (26) =REM CLS
</p>
<p>
520 FOR TO 10
</p>
<p>
S30 D(X)=INP(PORT+X) :REM READ PORT
</p>
<p>
S40 IF D(X)=255 THEN S30 :REM IS IT VALID?
550 DOO=D(X) AND 15 :REM STRIP 4 MSB&rsquo;s
S60 NEXT X
</p>
<p>
580 REM DISPLAY DATE AND TIME
</p>
<p>
590 PRINT D(7)#10+D(6) 5"/"5 Day
600 PRINT D(10) #10+D(9) 5 MONTH
610 PRINT Y85" &ldquo;5 YEAR
620 PRINT D(5)#10+D(4)5 HOURS
630 PRINT D(S)#10+D(2)5 MINUTES:
640 PRINT D(1)#104D(003 SECONDS
</p>
<p>
650 PRINT CHR$ (30)
460 GOTO 520
</p>
<p>
MOVE CURSOR UP ONE LINE
UPDATE DISPLAY
</p>
<?php columnEnd(1); ?>
