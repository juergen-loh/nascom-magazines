<?php columnStart(1); ?>
<p>
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
NOTERA
ERA3
ERA4
JR NZ NOTERA
CALL COUNT
INC DE
JR ERA1
LD HL, TEXT14
LD DE, 090BH
LD BC, 1AH
LDIR
JR ERA4
LD HL, TEXT15
LD DE, 090BH
LD BC, 15H
LDIR
CALL RESET1
DEFB SCAL,TDEL
DEFB SCAL TDEL
JP RESTRT
;
;;
;;
;
IF NOT, JUMP
KEPP GOING
EPROM NOT ERASED
JUMP TO END OF ROUTINE
EPROM ERASED
2 SECS DELAY
419
420
421
;;;
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
ROUTINE TO OUTPUT EPROM TO PRINTER
* * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438
439
440
441
442
443
444
445
446
447
448
449
OUTPUT
BUFF
OUT1
OUT2
OUT3
OUT4
OUT5
OUT6
CALL ROMADR
LD DE, 0000H
LD IY, LINBUF
LD A, (ROMFLG)
CP D
JR Z, OUT6
LD HL, (STOR1)
ADD HL, DE
LD A, H
CALL PRTHEX
LD A, L
CALL PRTHEX
CALL GAP
LD B, 16
CALL ENABLE
IN A, (ADATA)
LD (iY), A
PUSH BC
CALL COUNT
POP BC
INC IY
INC DE
DJNZ OUT4
CALL PRTLIN
JR BUFF
CALL RESET1
CALL MESS19
JP RESTRT
;;;
;
;;;
;;
;;
;
;;;
;;
GET NORMAL ADD. OF ROM
BYTE COUNT
POINT TO 16 CHAR. STORE
SEE IF ALL DONE
GET OFFSET
FORM ROM ADDRESS
AND PRINT IT
4 SPACES
16 BYTES PER LINE
GET BYTE
SAVE CHARACTER
INC. ADD., TURN CHIP OFF
LOOP FOR 16 BYTES
NOW PRINT LINE
LOOP TILL ALL DONE
COMPLETED MESSAGE
BACK TO START
450
455
456
;
; * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
ROUTINE TO PRINT ALL 16 CHARS. IN LINE BUFFER
; * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * * *
457
458
459
460
PRTLIN
PRLIN1
LD B, 16
LD IY, LINBUF
LD A, (IY)
CALL PRTHEX
;;;;
NO. OF CHARS IN BUFFER
IY POINTS TO BUFFER START
GET CHARACTER
PRINT HEX AS 2 ASCII CHARS.
461 LD A, 20H ; SPACE BETWEEN BYTES
</p>
<?php columnEnd(1); ?>
