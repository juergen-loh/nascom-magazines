<?php columnStart(1); ?>
<p>
648
649
650
651
652
653
654
655
656
657
658
659
660
661
662
663
664
665
666
SCAN5
SCAN7
DEC D
JR NZ, SCAN2
JR SCAN7
CP &ldquo;A&rdquo;
JP M, SCAN2
CP &ldquo;G&rdquo;
JP P, SCAN2
LD (HL), A
SUB 37H
LD (IY), A
INC HL
INC IY
DEC D
JR NZ SCAN2
LD HL, 0A4BH
LD DE, STORLN
LD BC, 20H
LDIR
DEFB SCAL, CRLF
;;;;;
;;;;;;;;;
;
REDUCE ENTRY COUNTER
JUMP IF NOT FINISHED
JUMP TO SCAN7WHEN DONE
IS IT ASCII A &ndash; F?
IF NOT, REJECT IT
PRINT IT IF O.K.
CONVERT TO 10 &ndash; 15
STORE IT
NEXT SCREEN LOCATION
NEXT STORE
REDUCE ENTRY COUNTER
JUMP IF NOT DONE
SAVE THIS MESSAGE IN CASE
ENTRY IS TO BE CHANGED
SCROLL CRT
667 DEFB SCAL, CRLF ; TWICE
668
669
670
671
672
673
674
675
676
677
678
679
680
681
682
683
684
685
686
687
688
689
690
691
692
693
694
695
SCAN8
SCAN9
SCAN10
SCAN6
LD HL, TXT11A
LD DE, 0B0BH
LD BC, 14H
LDIR
XOR A
DEFB SCAL, KBD
JR C, SCAN9
JR SCAN8
CP &ldquo;Y&rdquo;
JR Z SCAN6
CP &ldquo;N&rdquo;
JR Z SCAN10
JR SCAN8
CALL CLRCRT
LD HL, STORLN
LD DE, 0A4BH
LD BC, 20H
LDIR
LD A, (SCNFLG)
CP 00
JP Z, ROMADR
JP RAMADR
JP SCANT1
LD IY, STORE
LD A, (IY)
RLCA
RLCA
RLCA
;
;
;;;;;;;
;
;;;;;;;;
CORRECT &ndash;Y/N?
GET ANSWER
ANSWER &ldquo;YES&rdquo;?
IF SO, JUMP TO SCAN6
ANSWER &ldquo;NO&rdquo;?
IF SO, JUMP TO SCAN10
REJECT OTHER REPLIES
CLEAR SCREEN
RESTORE SAVED MESSAGE
FIND OUT WHERE TO JUMP
IF ZERO, JUMP TO ROMADR
ELSE WAS FROM RAMADR
BACK TO GET ADDRESS AGAIN
POINT TO FIRST ENTRY
GET FIRST
ROTATE BITS 4 TIMES
TO PUT VALUE INTO
INTO MOST SIGNIFICANT
NIBBLE
696
697
698
699
700
RLCA
ADD A, (IY+1)
LD H, A
LD A, (IY+2)
RLCA
;;;;
ADD SECOND VALUE
SAVE IN H REGISTER
GET 3RD ENTRY
PUT INMOST SIGNIFICANT
NIBBLE
701
702
703
RLCA
RLCA
RLCA
</p>
<?php columnEnd(1); ?>
