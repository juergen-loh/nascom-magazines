<?php columnStart(1); ?>
<p>
esc 28 22 0207 JR _Z,CONT2 Yea &ndash; a0 no action
C93E DS 0208 PUSH DE SGave other registers
CoSF cS 0209 PUSH BC
</p>
<p>
6940 DF 90 0210 SCAL ZOLDKB yScan k&lsquo;bd am usual
6942 30 18 ozit JR ONCsEC&mdash;$No key
</p>
<p>
Gea 21 ac cc (O22 LD HL NCHAR
</p>
<p>
6947 34 ozs, inc (HL)
</p>
<p>
Gea 2A AD CC (Oz14 LD HL, (NEXIND yPut in buffer
c94B 77 o215 we wa
</p>
<p>
Geac 23 o216, INC HL
</p>
<p>
Ceap 22 aD cc (0217 LD (WEXIND J HL
</p>
<p>
950 AF o218 xOR a
</p>
<p>
cesi 11 DA cD 0219 LD -DE,ENDBUF sChack if at end
cys4 ED 52 0220 sec HLDE
</p>
<p>
5956 20 08 oz2t oR NZ,EC
</p>
<p>
ese 21 a4 cD 0222 LD HL BUFFER yBack to start
esp 22 AD CC 0223 LD (NEXTND HL
</p>
<p>
GySE ct ozs ec | POP Be. iRestore registers
S95F Di 022s, Pop De.
</p>
<p>
960 CD OC CB 0226 CONT2 CALL USER $80 to user vector
cess Et 0227 POP HL iReatore others
crea Fi 0228 POP AF
</p>
<p>
C965 ED 7B AB Cc 0229 LD SP, (CLKSP) yand stack
</p>
<p>
969 FB 0230 er sEnable interrupts
c96A ED 4D 0231
</p>
<p>
0233,
0235
</p>
<p>
0236 &mdash;
c9ec SAAC co (0238 LDA, (NCHARD yCheck 1c anything
Cver 87 0239 ol ithere
6970 ca 0240 rer INo = just return
971 3D 024i Dec OA $Yee &ndash; update count
0972 2A AF cc (0242 LD ML, (NEXOUT) y@et char.
C975 46 ozas, Lo By (HL
6976 23 028s, INC HL sPoint to next
0977 22 AF CC (024s LD (NEXOUT) JL
C970 11 D4 CD 0246 LD -DE,ENDBUF Check for end
3970 ED 52 0247 SBC MLE
C97F 20 06 ozaa NZ,KRETP
c9ai 21 a4 cD 0247 HL,BUFFER jGet back at start
C964 22 AF CC (0250 (NEXOUT) HL
c9e7 32 ac CC (2st ANCHAR) ,A sUpdate count
c9eA 78 0282 AB sRatriave character
c9eB 37 0253, sSet carry indicator
c9ec CF 0254
c9eD CF 0255,
</p>
<p>
0257
</p>
<p>
0259
</p>
<p>
0260
</p>
<p>
0262 jThis routine is required to disable interrupts
0263 jduring tape read. If this were not dons sone
0264 jtape input would be missed during processing
0265 jot interrupts.
0267 jWe could just disable interrupt, but the 4
0268 JESCAPE&rsquo;s would be inoperable, so instead we
0269 jrestore normal keyboard scan.
</p>
<p>
C9GE 2A G2 CD 0271 READ LD HL, (NEXTAB) jReatore old k&rsquo;bd
</p>
<p>
e991 22 44cD 0272 LD CTABLE+040) ,HL
</p>
<?php columnEnd(1); ?>
