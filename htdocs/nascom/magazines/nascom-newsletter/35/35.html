<?php columnStart(1); ?>
<h1 id="article1">
V&nbsp;&amp;&nbsp;T Assembler Modifications
</h1>
<h2 class="author">
by Alan Marshall
</h2>
<p>
The title of this article is somewhat of a misnomer as most
of the modifications are actually made to Nas-Dis, though they
are made to facilitate its use with the V&nbsp;&amp;&nbsp;T assembler.
</p>
<p>
One apparently miraculous feature of Nas-Dis is its ability
to disassemble a program directly into a ZEAP source file.
Other assemblers are catered for by dis-assembling to tape and
then reading the tape into the assembler in its automatic mode.
While this works very well, there is no doubt that the ability
to dis-assemble directly to the source area is a great advantage
and so, using the excellent listing of Nas-Dis, I made the
following modifications. These enable the tape version of
Nas-Dis to dis-assemble any program directly to the source area
of a V&nbsp;&amp;&nbsp;T assembler.
</p>
<p>
As the V&nbsp;&amp;&nbsp;T works in hex, the &lsquo;&pound;&rsquo;, or hash, sign is not
required, so addresses C4FFH and CF60H are changed from 23H (&pound;)
to 30H (0).
</p>
<p>
The message delimiter used by ZEAP is a &ldquo;/&rdquo; while V&nbsp;&amp;&nbsp;T uses
&ldquo;'&rdquo; so the following addresses need to be changed from 2FH to
27&nbsp;:&ndash;
</p>
<p class="indent2">
C6C0<br>
C6D3<br>
C704<br>
CEBF
</p>
<p>
As the V&nbsp;&amp;&nbsp;T can only put one DEFB on one line then the DJNZ
instruction at C6E2/3 needs to be replaced by two NOPs. If this
course is followed then the program will assemble with no
editing. If, however, the 3 at C6E3 is replaced by 2 then the V&nbsp;&amp;&nbsp;T
DEFW can be used, though you must remember to reverse the
order of the two bytes while editing. Depending on which course
you follow, the 3 at CD6B needs to be changed to either 1 or 2.
</p>
<p>
The V&nbsp;&amp;&nbsp;T is a little unusual in that it uses EX AF,AFG
instead of EX AF,AF' to change to the alternate accumulator so
27H at CA43 needs to be changed to 47H, Another difference is
that ZEAP uses a null as the end of line marker while V&nbsp;&amp;&nbsp;T uses
1FH. CEDEH is the place to change.
</p>
<?php columnEnd(1); ?>
