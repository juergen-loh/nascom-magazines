<?php columnStart(1); ?>
<p class="continued">
extension code. Any calls to NAS-SYS or SYS-EX routines from
within the extension code will require a number of stack levels
to be available.
</p>
<h3>
<u class="double">Suggested routine to extend SYS-EX at offset 0400H</u>
</h3>
<p class="indent2">
<?php imageCenter($imagepath, $magpath, $issuepath, $pagepath, "Image-05-1.png"); ?>
</p>
<h3>
<u class="double">Compatibility with NAS-SYS monitors</u>
</h3>
<p>
Compatibility with both NAS-SYS&nbsp;1 and NAS-SYS&nbsp;3 monitors
is achieved (with one exception) by calling the NAS-SYS routines
in the NAS-SYS recommended manner.
</p>
<p>
The one exception is that SYS-EX requires access to the
absolute address of the NAS-SYS INLS routine, which is different
in the two versions of NAS-SYS, This is achieved by locating the
instruction in the main monitor loop PARSE (by using a variant
of the SYS-EX FCEP1 routine) which follows the NAS-SYS call to
INLS in both versions of the monitor. The address of INLS is
taken from the two bytes prior ta this common instruction.
</p>
<h3>
<u class="double">User entry point summary</u>
</h3>
<table class="indent2">
<tr><th colspan=2>ADDRESS (start<br>of SYS-EX plus)<br><br></th><th>ENTRY POINT</th></tr>
<tr><td>0000H</td><td class="nowrap;">&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>Cold start when installed at B000H
				only</td></tr>
<tr><td>0003H</td><td>&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>Called routine entry point</td></tr>
<tr><td>0005H</td><td>&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>Cold start</td></tr>
<tr><td>000BH</td><td>&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>Warm start</td></tr>
<tr><td>01E0H</td><td>&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>BASIC named program file entry point
				cold start when installed at B000H
				only</td></tr>
<tr><td>0003H</td><td>&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>Called routine entry point</td></tr>
<tr><td>0005H</td><td>&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>Cold start</td></tr>
<tr><td>000BH</td><td>&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>Warm start</td></tr>
<tr><td>01E0H</td><td>&nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp; . &nbsp;</td><td>BASIC named program file entry point</td></tr>
</table>
<?php columnEnd(1); ?>
