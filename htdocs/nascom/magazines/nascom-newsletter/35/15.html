<?php columnStart(1); ?>
<h1 id="article1">
Poke, Doke &hellip; Moke!
</h1>
<h2 class="author">
by Garry Rowland
</h2>
<p>
MOKE is a relocatable USR routine for the Nascom ROM Basic
version 4.7 that will display menus, title pages and game
graphics held in data lists. The data is formatted using offsets
and repeat counters to reduce memory requirements to a minimum.
The data is read directly from DATA lists; this avoids the
duplication of data that results when using string variables or
literals.
literals.
</p>
<p>
The MOKE&rsquo;s formatted lists are not quite compatible with the
format expected by Basic&rsquo;s READ statement. In choosing the
control characters for offset, repeat and terminate &ndash; the need
for characters that visually indicate their function and not
likely to be used in text or graphics was the main
consideration. The control characters choosen are:
</p>
<p class="indent2">
<span style="padding-right: 1em">/</span> offset<br>
<span style="padding-right: 1em">"</span> repeat<br>
<span style="padding-right: 1em">!</span> terminate
</p>
<p>
The " (ditto) repeat control character and the absence of
data separators between each character in the MOKE list will
cause a conventional READ statement to read a block of MOKE
data. In a large block of data, calculation of the number of
READs required to skip a section of MOKE data could be a bit
tiresome. If each new MOKE list started on a new line, the lists
can be selected by using the RESTORE n statement, where n is the
line number on which the list starts. I don&rsquo;t think there will
be many applications where MOKE data lists will need to be read
by the READ statement, but if that is required, the MOKE will
recognise data separators (though inclusion of them will double
the length of your data list) and &amp; could be substituted for "
in the MOKE code.
</p>
<p>
There could have been a fen more features, like repeating
blocks of the MOKE list, and fewer compromises; the routine
could also have been a lot longer. My maxim is&nbsp;; Long USRs get
filed away, short USRs get used.
</p>
<h3>
Using the Moke
</h3>
<dl class="wide justify">
<dt>
Data</dt><dd>
The MOKE reads data items immediately following the
data statement, including spaces.
</dd>
<dt>
'</dt><dd>A data separator must follow any decimal number that
is an argument to " or /&nbsp;. It can also be used to
separate each item (one character). If the last
character on the line is a space then this should be
followed by a comma, otherwise the space will be
lost when the line is entered.
</dd>
</dl>
<?php columnEnd(1); ?>
