<?php columnStart(1); ?>
<p class="continued">
to tape. This was to be achieved in a similar way to the naming
of program files from the 8K Basic. The required routines were
written and provided many advantages over the facilities within
Basic. (e.g. forty two character names and tape label
processing.) However, a big problem remained. How could the new
routines be easily used? The aim was to find a method of calling
the new routines by using a single letter followed by the
necessary arguments&nbsp;&ndash; that is, in the same way as you might use
NAS-SYS &lsquo;W&rsquo; or &lsquo;R&rsquo;. After much head scratching and may reems of
assembler coated paper, the problem was solved. It was decided
to use the lower case letters of the alphabet as the command
letters (&lsquo;w&rsquo; for named file write, &lsquo;r&rsquo; for named file read, &lsquo;v&rsquo;
for named file verify, etc.) Part of the head scratching had
resulted in a method of &lsquo;hooking into&rsquo; the main input loop of
NAS-SYS, thereby providing a means of branching to SYS-EX
processing whenever a lower case command letter was keyed. This
method did not require any changes to NAS-SYS, so there was no
non-standard EPROM blowing to do. During the development of
SYS-EX, the author upgraded his Nascom&nbsp;2 from NAS-SYS&nbsp;1 to
NAS-SYS&nbsp;3. As a result of this, the &lsquo;hooking into&rdquo; routine was
amended to make the whole thing compatible with all present
versions (and maybe future versions too?) of NAS-SYS. As the
author did not posess an assembler of any description (pencil,
paper, Z80 manual and NAS-SYS &lsquo;M&rsquo;, being the available tools),
and as it was not known where in memory the code would end up,
it was decided to make the routines fully relocatable. (i.e. no
absolute jumps or calls and no table data containing or
referenced by absolute memory addresses.) This policy of
creating entirely relocatable code was continued throughout
development&nbsp;&ndash; sometimes at great personal risk to the author&rsquo;s
mental health. The result is that the final article can be run
at any available memory location without need for re-assembly.
</p>
<p>
Having created the mechanism to call new commands as if they
were normal NAS-SYS commands, it seemed a shame to stop
development with only the named file commands present. After
all, there were many useful features that the author had always
hankered after, which could now be easily tagged on to NAS-SYS.
Besides which, there were still some twenty unused lower case
letters just begging to be used. All that was now needed was to
write the routines&rsquo; After a good deal more head scratching,
many more reams of assembler coated paper and a partially seized
brain, (counting backwards in hex for those relative jumps is
detrimental to health) out popped the final version.
</p>
<p>
&ldquo;What shall we call this thing?&rdquo; the author asked himself.
(Talking to himself was now a regular occurrence.&nbsp;&ndash; Total
madness was not far away.)
</p>
<p>
&ldquo;SYS-EX&rdquo;, he replied to himself. The monitor extension (and
insanity) were complete.
</p>
<?php columnEnd(1); ?>
