<?php columnStart(1); ?>
<p>
Routine no. 81 <span style="padding-left: 3em">Name: DTOHX</span>
</p>
<p>
Convert an ASCII format decimal number (leading minus
permissible), to a four digit hexadecimal value. Put the result
into both NUMV in the NAS-SYS workspace and the HL register
pair. Prior to calling the routine, the memory address of the
first character of the decimal number (if negative, the minus
sign) must be placed in ARG1 in the NAS-SYS workspace. Leading
spaces are not permitted. If the decimal number is positive, the
A and the C registers return with the value 00H. If the decimal
number is negative, the A and the C registers return with the
value FFH. NUMN in the NAS-SYS workspace is set to the number
of numeric digits in the input decimal number. If the input
value contains characters other than0 to 9 or if it is
outside the range -32768 to 65535, conversion does not take
place and the Carry flag is set ON. On a valid return, the
Carry flag is set OFF.
</p>
<p>
Routine no. 82 <span style="padding-left: 3em">Name: USCR1</span>
</p>
<p>
Call a routine which starts 0400H (1K) beyond the start of
SYS-EX. This routine is provided in order to allow user
expansion of monitor facilities. The routine should only be
called if the user has placed suitable code immediately
following SYS-EX. HL, DE and BC are set to ARG1, ARG2 and
ARG3 in the NAS-SYS workspace, respectively. The A register
is set to 82H.
</p>
<p>
Routine no. 83 <span style="padding-left: 3em">Name: USCR2</span>
</p>
<p>
Identical to USCR1 except that the A register is set to
83H.
</p>
<p>
Well, that&rsquo;s it for this issue. In the next magazine, the
finishing details of the monitor extension will appear. Also,
the full hex dump of the monitor extension will be printed so
that you can finally try out all of the SYS-EX facilities.
</p>
<br>
<?php imageCenter($imagepath, $magpath, $issuepath, $pagepath, "Image-07-1.png"); ?>
<?php columnEnd(1); ?>
