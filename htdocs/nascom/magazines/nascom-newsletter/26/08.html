<?php columnStart(1); ?>
<h1 id="article1">
Cursor Line shift
</h1>
<h2>
by G. Rowtand
</h2>
<p>
This short routine grabs the up/down curser key before CRT
is called.
the &lsquo;N&rsquo;
*CULSH&rsquo;
Enabled by the Nas&nbsp;sys &ldquo;U&rdquo;
The routine te int
&lsquo;command.
subroutine
workspace at 0C78H).
</p>
<p>
Command. and&rdquo; disabled
thalised by entering
</p>
<p>
address inte &lsquo;UOUT&rsquo; (found in Naw
</p>
<p>
2 TEST FOR SHIFTED UP/DOWN CURSOR KEY PRESS
</p>
<p>
poo 21-01-06 CULSH LD HL,KMAP:
po CB 66 BIT a, (HL)
</p>
<p>
pes cB Ret Z
</p>
<p>
pes FE 15 cP *cup&rsquo;+t
</p>
<p>
pea po RET NC
</p>
<p>
ope? be cP &ldquo;cour
</p>
<p>
pop ba Ret c
</p>
<p>
2 GET ARGUMENTS FOR NAS&nbsp;SYS &lsquo;ICOPY*
</p>
<p>
opoc FS PUSH AF
</p>
<p>
ODD 2A 29 oC LD HL, (CURSOR)
</p>
<p>
opie DF 7c RST SCAL CPOS :GET START OF LINE
opi? EB EX HL, DE
</p>
<p>
opis 21 7A on LD HL; OB7AH
</p>
<p>
opie 87 OR A
</p>
<p>
9D17_ ED 52 SBC HL, DE
</p>
<p>
D1? FA 39 OD JP MEXIT
</p>
<p>
opic 5 PUSH&rsquo; HL
</p>
<p>
pip ci POP BC LENGTH OF COPY
</p>
<p>
ODIE 21 40 00 LD HL, o040H
</p>
<p>
p21 19 ADD HL,DE :DESTINATION &amp; SOURCE
p22 Fr POP AF&rdquo; :ACCORDING
</p>
<p>
p23 FS PUSH AF :TO CURSOR
</p>
<p>
p24 28 o1 JR Z,MOVE KEY
</p>
<p>
0026 EB Ex HL,DE :PRESSED
</p>
<p>
0p27_ DF 49 Move RST SCAL ICOPY
</p>
<p>
2 CLEAR LAST LINE COPIED
</p>
<p>
002911 FF FF LD DE, FFFFH
</p>
<p>
opzc FI POP Ae
</p>
<p>
ep2D FS PUSH AF
</p>
<p>
op2e 28 02 OR Z,CLRLIN
</p>
<p>
opso 13, inc DE
</p>
<p>
ops 13, INC DE
</p>
<p>
9D32 04 30 CLRLIN. LD B, 50H
</p>
<p>
psa 19 SPC ADD HL,DE
</p>
<p>
OD35 34 20 Lo wy&rdquo; =
</p>
<p>
p37 10 FB DONZ SPC
</p>
<p>
ops? FL ExT POP AF
</p>
<p>
ODA AF XOR A FEXIT WITH NULL
</p>
<p>
opse CF RET TO SKIP CRT SUBROUTINE
</p>
<p>
cr
by
the
</p>
<p>
Bye
</p>
<?php columnEnd(1); ?>
