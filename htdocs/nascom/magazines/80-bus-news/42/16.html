<?php columnStart(2, 2); ?>
<pre>
COMMON A,B(1),C%,D$,F(2)
DIM B(10),E%(2,3,4),F(10)
</pre>
<h4>
Creating and using library programs
</h4>
<p>
In CBASIC one has the ability to include programs
&mdash; such as graphics or screen handling routines
which one may have written or acquired. In this
sense, CBASIC operates in much the same way as
the better versions of <span class="uppercase">Pascal</span> or FOR&shy;TRAN. Any
library programs may be incorporated by means of
the %INCLUDE statement; it is important to make
sure that the INCLUDEd program (or program
segment) does not include a STOP or END
statement &mdash; for obvious reasons. Up to 6 levels of
%INCLUDE nesting are permitted which should be
enough for most people!
</p>
<h4>
Other statements, functions and directives
</h4>
<p>
CBASIC is full of other goodies to excite the keen
programmer or to depress the less able! Some
useful ones are listed briefly.
</p>
<h5>
Statements
</h5>
<p>
CALL &mdash; summons a machine code routine, and has
the syntax:
</p>
<p class="indent">
CALL &lt;integer expression&gt; &ndash; the expression
may be in hex
</p>
<p>
INPUT &hellip; LINE &mdash; reads an entire entry from the
display and assigns it to a special string variable.
</p>
<p class="indent">
INPUT"Message"; LINE SILLY.ANSWERS$
</p>
<p>
OUT &mdash; puts out an 8 bit integer value to an I/O
port.
</p>
<p class="indent">
OUT &lt;integer expression,<?php spChar("zwsp"); ?>integer expression&gt;
sends a low order byte of the
second expression to the output port
addressed by the low order byte of the
first expression.
</p>
<p>
RANDOMIZE &mdash; seeds the random number generator
called by the RND function; the seeding
depends upon the operator&rsquo;s response time to a
request from a previously executed INPUT statement.
</p>
<p class="indent">
INPUT"Do you need to use a random
number"; A$<br>
RANDOMIZE
</p>
<p>
READ # &hellip; LINE &mdash; reads one record from the
selected file and assigns it to a string variable.
</p>
<p class="indent">
READ #2; LINE X$ &mdash; reads one record from
file no. 2 and places it in X$
</p>
<p>
SAVEMEM &mdash; reserves space for a file which will be
loaded when SAVEMEM is executed; normally, the
file will be a machine code type.
</p>
<h5>
Functions
</h5>
<p>
CONCHAR% &mdash; waits for and accepts one character
from the keyboard.
</p>
<p>
CONSTAT% &mdash; returns a &minus;1 (true) if a key has been
pressed or 0 (false) if not.
</p>
<p>
INP &mdash; returns a byte from a selected I/O port
</p>
<p class="indent">
INP(port.no.)
</p>
<h5>
Compiler directives
</h5>
<p>
There are six of these; two, %INCLUDE and
%CHAIN have already been covered and the rest
deal with the format of the listing produced by the
compiler. Directives do not interfere with the
running of the program and they must always be at
the beginning of the line.
</p>
<p>
%LIST and %NOLIST &mdash; turn the program listing on
or off which could be handy if you only want to see
part of a program: they affect both console and
printer listings and also operate on disk files.
</p>
<p>
%EJECT &mdash; as its name suggests, operates on the
printer when it is enabled and performs a control-L
function to start printing at the top of the next page.
</p>
<p>
%PAGE &mdash; sets up the number of printed lines per
page on the printer. It defaults to 64 and must be
altered if another page length is needed. Thus
PAGE(60) specifies 60 lines per page of print.
</p>
<p>
Apart from compiler directives, there are six
&ldquo;toggles&rdquo; which may be included as required in the
command line. The toggles are preceded by a $
sign.
</p>
<table>
<tr><td>B &mdash;</td><td>suppresses source file listing at the console,
but allows compilation statistics to appear.</td></tr>
<tr><td>C &mdash;</td><td>suppresses the creation of an .INT file which
helps in initial error checking for a new
program since compilation is a lot faster.</td></tr>
<tr><td>D &mdash;</td><td>suppresses the conversion of lower to upper
case letters when these are used in variable
names.</td></tr>
<tr><td>E &mdash;</td><td>a useful debugging facility which pinpoints
source lines in the .INT file in which an error
occurred. It must also be used if you wish to
employ the TRACE facility.</td></tr>
<tr><td>F &mdash;</td><td>produces a listing of the program on the
printer as well as the console.</td></tr>
<tr><td>G &mdash;</td><td>produces a listing on a disk file as well as the
console.</td></tr>
</table>
<p class="exdent">
A typical CBASIC compilation command line would
be:
</p>
<pre>
&gt;CBASIC TESTPROG first run of the
                  revised version $EF
</pre>
<p>
A typical CBASIC compilation command line would
be:
</p>
<pre>
&gt;CBASIC TESTPROG first run of the
                  revised version $EF
</pre>
<?php columnEnd(2); ?>
