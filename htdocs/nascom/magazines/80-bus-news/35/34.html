<?php columnStart(1); ?>
<p>
Listing One
</p>
<p>
10
</p>
<p>
20 7
</p>
<p>
30
40
50
</p>
<p>
60 &lsquo;
</p>
<p>
70
</p>
<p>
80 *
</p>
<p>
90
100
</p>
<p>
wk CALENDAR ***
By D. R. Hunt. 2 October 1979
</p>
<p>
Suitable for Nascom&nbsp;1/2 fitted with NASBUG &lsquo;T&rsquo;
or NAS-SYS monitors.
This program occupies approx. 1.5K.
</p>
<p>
Modified for Gemini CP/M and MBASIC. 22 March 1981
</p>
<p>
CLS$=CHR$(26): PRINT CLS$;"Calendar&rdquo;
</p>
<p>
&ldquo; ** Get inputs
</p>
<p>
RESTORE: F=0;: F1l=0
</p>
<p>
PRINT: PRINT &ldquo;Do you require continuous output&nbsp;? &ldquo;3
IS=INKEYS: IF IS=""&rdquo; THEN 160 ELSE IF I$=CHR$(3) THEN END
TS=CHRS(ASC(1$) AND SHDF): PRINT 15
</p>
<p>
IF IS="Y&rdquo; THEN Fl=1: GOTO 190 ELSE IF 1$&lt;&gt;"N&rdquo; THEN 140
INPUT &ldquo;What year &ldquo;3Y: IF Y&gt;=1753 AND Y=&lt;2999 THEN 230
PRINT &ldquo;Out of range&nbsp;!": GOTO 190
</p>
<p>
&lsquo; ** Calculate starting day
J#YY:GOSUB 490
</p>
<p>
* ** Print calendar
FOR M=] TO 12
READ MS: PRINT CLSS: PRINT TAB(34&mdash;INT((LEN(MS)+6)/2))3;MS3&rdquo; &ldquo;sY
PRINT&rdquo; =ssa2202 &ldquo;
PRINT&rdquo; SUN MON TUE WED THU PRI SAT &ldquo;
PRINT&rdquo; &ldquo;
READ DY: IF F=1 THEN IF M=2 THEN DY=DY+1
FOR D=1 TO DY
PRINT TAB(LO*C+1);: IF D&lt;LO THEN PRINT&rdquo; &ldquo;;
PRINT D;: C=C+l: IF C=7 THEN PRINT: PRINT: PRINT: C=0
NEXT D
IF C&lt;&gt;O THEN PRINT
PRINT&rdquo; cay
IF Fl=1 OR M=12 THEN 410
PRINT: PRINT TAB(42) &ldquo;Hit any key to continue.&rdquo;
</p>
<p>
IS=INKEY$: IF I$="&rdquo; THEN 400 ELSE IF I$=CHR$(3) THEN END
NEXT M: GOTO 140
</p>
<p>
*
</p>
<p>
** Data for months and days
</p>
<p>
DATA &ldquo;JANUARY&rdquo;, 31,&rdquo; FEBRUARY&rdquo;, 28, &ldquo;MARCH&rdquo; , 31,&rdquo; APRIL&rdquo; ,30,"MAY&rdquo;, 31, &ldquo;JUNE&rdquo;, 30
DATA &ldquo;JULY&rdquo;, 31,""AUGUST&rdquo;, 31,"SEPTEMBER&rdquo;, 30,&rdquo; OCTOBER&rdquo;, 31,"NOVEMBER&rdquo; , 30
DATA &ldquo;DECEMBER&rdquo;, 31
</p>
<p>
&ldquo; ** Is it a leap year&nbsp;? F=l says yes.
IF J/1000=INT(J/1000) THEN 550
</p>
<p>
IF J/400INT(J/400) THEN Fel: GOTO 550
IF J/100*INT(J/100) THEN 550
</p>
<p>
IF J/4*INT(J/4) THEN F=1 ELSE GOTO 550
</p>
<p>
540 " ** What*s the first day&nbsp;?
550 JisJ-i
</p>
<p>
560 K=2+J1+INT(J1/4)-INT(J1/100)
570 K#K+INT(J1/400)-INT(J1/1000)
580 C#=K=INT(K/7)*7
</p>
<p>
590 RETURN
</p>
<p>
600 *
</p>
<p>
610 END
</p>
<p>
Listing Two
To Load the IVC/SVC Cursor register
</p>
<p>
+280
9000&rdquo; aseg
</p>
<p>
org
</p>
<p>
phase
</p>
<p>
OO1LB esc equ
</p>
<p>
co000 06 04 ld
co02 21 COLL ld
coos DB B2 rdy: in
C007 OF rrea
C008 38 FB jr
COOA TE 1d
COOB 23 ine
co0c D3 Bl out
cQ0E 10 F5 djnz
colo co ret
</p>
<p>
coll 1B 59 48 08 chars: defb
</p>
<p>
end
</p>
<p>
Listing Three
</p>
<p>
MACRO-80 3.44 PAGE 1
</p>
<p>
0100h
0cc000h
</p>
<p>
lbh
</p>
<p>
b,4 : Four chars to send
hl&nbsp;,chars
a,(Ob2h) ; See if Ivc/SvC ready
</p>
<p>
e,rdy
</p>
<p>
a,(hi) 3 Get the character
hi
</p>
<p>
(Oblh) ,a
</p>
<p>
rdy
</p>
<p>
esc,"Y",48h,8h ; Cursor control
</p>
<p>
GM816 Clock Read Routine MACRO-80 3.44 09-Dec-82 PAGE 1
</p>
<p>
&laquo;Z80
0000&rdquo; aseg
</p>
<p>
org
</p>
<p>
&raquo;phase
</p>
<p>
0020 clock equ
000B narreg equ
</p>
<p>
co00 c3 C014 4p
c003 defs
co09 regs: defs
</p>
<p>
100h
0c000h
</p>
<p>
20h ; Base port of clock
11 3; Number of regs to read
</p>
<p>
start
6 ; Workspace for results
ll 3; Workspace for registers
</p>
<p>
34
</p>
<?php columnEnd(1); ?>
