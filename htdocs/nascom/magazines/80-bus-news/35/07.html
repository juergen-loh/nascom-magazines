<?php columnStart(34); ?>
<h2 id="article1">
<u>DETERMINING THE NASCOM KEYBOARD STATUS</u>
</h2>
<?php columnChange(4); ?>
<h3 class="author">
<u>By Geoff Higgs</u>
</h3>
<?php columnEnd(4); ?>
<?php columnStart(1); ?>
<p>
When Nas-Sys scans the keyboard it stores the state of all the
keys in 9 &ldquo;KMAP&rdquo; positions, known as KMAP0 to KMAP8, at locations 0C01
to 0C09 hex, 3073 to 3081 decimal. These are updated every time the
keyboard is scanned.
</p>
<p>
The chart shows the Nascom&nbsp;2 keyboard as layed out. Beneath the
legend for each key is the address and below that it&rsquo;s contents after a
keyboard scan when that key is pressed. This is shown in both Hex and
decimal notation. The contents remain the game on repeated scans until
the key is released. Since each key is bit-mapped it can be detected
irrespective of how many keys are simultaneously pressed. When several
keys sharing the same map address are pressed, the content is the sum
of the values for all the keys pressed.
</p>
<p>
Note that SHIFT does not change the contents for any key but
only puts 10 (hex), 16 (dec) in KMAP0. Similarly GRAPH and CTRL are
mapped as any other key.
</p>
<p>
When Key presses are required to control features of programmes,
the use of this table avoids involvement with repeat keyboard routines
and their associated adjustable delays.
</p>
<p>
Example:
</p>
<h4>
Assembly
</h4>
<?php imageRight($imagepath, $magpath, $issuepath, $pagepath, "Image-07-1.png"); ?>
<h4>
Basic
</h4>
<?php imageRight($imagepath, $magpath, $issuepath, $pagepath, "Image-07-2.png"); ?>
<p>
KMAP0 is &ldquo;duplicated&rdquo; as KMAP8 at 0C09 hex (3081 decimal) and
properly should be used instead. In practice I nave never found any
difficulty either way.
</p>
<?php columnEnd(1); ?>
