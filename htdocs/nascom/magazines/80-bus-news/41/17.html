<?php columnStart(1); ?>
<p>
eee atone
</p>
<p>
ee
</p>
<p>
Index file loader for Dbase M-80 17 May 1985
</p>
<p>
; Copy the named file
</p>
<p>
21:53 PAGE 12
</p>
<p>
coce 1l c027 copy: Id de, feb2 : See if destination&nbsp;..
COCE OE OF ld c,opnfil ; .. file already exists&nbsp;..
copo CD 0005 call bdes
cOD3 FE FF ep Offh
cop5 28 08 jr z,copyl
CODT ll 8027 ld de, fob2 . if so, delete it
GODA OE 13 ld c,delfil
cope CD 0005 call bdos
CcODF ll C027 copyl: 1d de, feb2 ; Now make the destination file
COE2 OE 16 ld c,makfil
COE4 cD 0005 call bdos
COE7 11 co04 ld de, fcbi ; Open the source file
COEA OE OF ld c,opnfil
COEC cD 0005 call bdos
; The copy loop
COEF 11 C004 copye: ld de, febl ; Read block into dma
core OE 14 ld c,rdfil
COF4 cD 0005 call bdos
cor7 BT or a ; Test for end
core 20 OA jr nz, copy3
COFA 1l C027 ld de, fob2 ; Write out the buffer
cOoFD OE 15 1d o,wrfil
COFF cD 0005 call bdos
c102 18 EB jr copy2
C104 11 C027 copys: ld de, feb2 ; File end, so close it
C107 OE 10 ld e,clsfil
c109 cD 0005 call bdos
c10c cg ret
; Workspace for file names list
cioD save: end
Index file loader for Dbase N-80 17 May 1985 21:53 PAGE s
Macros:
Symbols:
0005 BDOS coco CLR coce CLR1
0010 CLSFIL coce COPY CODF COPY1
COEF cOoPY2 C104 COPYS COBL COPYDN
CO8B COPYLP 0013 DELFIL 0080 DMA
C003 DSTDRV c004 FCB1 co05 FCBIA
C010 FCB1B c027 FCB2 COB3 LOC
0016 MAKFIL oooFr OPNFIL 0014 RDFIL
c1oD SAVE C084 SCHDON OO1A SETDMA
co6c SRCH 0011 SRCHFST 0012 SRCHNXT
CO4A START 0015 WRFIL
</p>
<p>
No Fatal error(s)
% Routine to move index files
</p>
<p>
SET CALL TO 49152
</p>
<p>
@ 18,0 SAY &ldquo;Copying indexes to the M: drive, please wait.&rdquo;
</p>
<?php columnEnd(1); ?>
