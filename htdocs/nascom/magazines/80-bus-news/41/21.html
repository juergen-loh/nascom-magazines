<?php columnStart(2); ?>
<table>
<tr><td></td><td>anywhere in the line. This switch will be
overridden by a C switch setting.
</td></tr>
<tr><td>Ldd</td><td>indicates that the displayed line to be checked
is the dd&rsquo;th previous to the CHECK command
line. An error is reported if this line is up off
the screen. The B switch affects the line
counting. The default value is one ie. the
previous line on display.
</td></tr>
<tr><td>N</td><td>indicates that the presence of the supplied
string prompts for abortion of the submission.
The default condition is that a matching
string according to the other switches indicates
that the submit file should continue.
</td></tr>
<tr><td>S</td><td>indicates that the string must match the start
of the displayed line. The default is a match
anywhere in the line. This switch will be
overridden by an F switch setting.
</td></tr>
<tr><td>U</td><td>indicates that the displayed line should be
converted to upper case before comparison
with the supplied string. This is normally
necessary as the CCP capitalises the command
when it is put into the command area.
No capitalisation is an option under CCPZ &mdash;
the public domain rewrite of CCP for the Z80.
The default option is no case conversion.
</td></tr>
<tr><td>W</td><td>indicates that a &lsquo;?&rsquo; in the supplied string is
wild ie. as with the CP/M ambiguous file
name convention &lsquo;?&rsquo; will match any character
in the displayed line. The default is that &lsquo;?&rsquo;
treated as a normal character.
</td></tr>
</table>
<p>
I hope that readers of the 80-BUS News find this
short article interesting and the supplied program
useful.
</p>
<?php hline("100%", 2); ?>
<h2 id="article1">
Private Advertisements
</h2>
<h3>
Items For Sale
</h3>
<p>
<i>Nascom</i>&nbsp;2 with CP/M and Nas-Dos,
<?php externalLink("MAP80 256K RAM","MAP 80 RAM"); ?> card (full 256K), <i>Nascom</i>
<?php externalLink("AVC"); ?> with CP/M and Nas-Dos software,
<i>Nascom</i> FDC, one SSDD disk
drive in twin drive box and PSU, <i>Gemini</i> 5A PSU
and 8 slot backplane in rack frame. <i>Gemini</i> EPROM
board with all the usual firmware, Bits and PC&rsquo;s
EPROM programmer &mdash; lots of spare <?php externalLink("2708","",""); ?>&rsquo;s and
<?php externalLink("2716","",""); ?>&rsquo;s, PAL encoder card (needs attention). <i>Nascom</i>&nbsp;1
with 32K
<?php externalLink("RAM&nbsp;A"); ?>
card and BASIC ROM,
Cottis-Blandford interface, 3A PSU (needs attention}.
Lots of disk and tape software and all the
manuals. Offers for whole or parts to: Dr David
Plews, Tel. Steeton ____ _____ (day), ____ _____
(evening).
</p>
<?php columnChange(2); ?>
<p class="uppercase">
Title Check Submit
</p>
<p>
.Z80<br>
.COMMENT&nbsp;!
</p>
<p>
CHECK 'string'/switches
</p>
<p>
This utility is run as part of a submit file. It a
checks a previous line on display against the supplied
string. If this string matches the displayed line
according to the switches the submit continues,
otherwise it can be aborted after a prompt.
</p>
<p>
The optional switches are:
</p>
<table>
<tr><td>B</td><td>causes blank lines to be counted with the L
    switch, defaults to ignore blank lines.
</td></tr>
<tr><td>C</td><td>the string matches the full displayed line,
    defaults to only part.
</td></tr>
<tr><td>F</td><td>the string matches finish of displayed line,
    defaults to anywhere.
</td></tr>
<tr><td>Ldd</td><td>causes the dd&rsquo;th previous line to be compared
    with the string, defaults to one.
</td></tr>
<tr><td>N</td><td>the string must not be in the displayed line,
    defaults to contained.
</td></tr>
<tr><td>S</td><td>the string matches start of displayed line,
    defaults to anywhere.
</td></tr>
<tr><td>U</td><td>the displayed line is converted to uppercase
    before comparison, defaults to no case change.
</td></tr>
<tr><td>W</td><td>indicates that '?' in the supplied string are
    wild cards, defaults to ordinary '?' for matching.
</td></tr>
</table>
<p>
Switch C overrides F which overrides S.
</p>
<p>
It is intended to trap compiler error summaries etc
and stop the continuation of the submit file. An
example submit file is:
</p>
<p class="indent">
    ED $1.MAC
    M80 =$1
    CHECK 'NO FATAL ERROR(S)'/CU
    L80 /P:100,$1,$1/N/E
    $1
</p>
<p class="indent">
    SC Willmott    26 April 1985
</p>
<?php imageNoscale($imagepath, $magpath, $issuepath, $pagepath, "Image-21-1.png"); ?>
<?php columnEnd(2); ?>
