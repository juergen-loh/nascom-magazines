<?php columnStart(1); ?>
<p>
SETUP has been written as a subroutine so that it may be
used by other programs such as the screen dump to be described
later. There is one other section of code that probably
warrants explanation, setting up the <?php externalLink("Z80 PIO", "PIO"); ?> which is described
below.
</p>
<h3>
<u>Configuring the PIO.</u>
</h3>
<p>
In keeping with explaining setting up the printer before
explaining setting the PIO, I have configured PORT B first and
will explain it last. Confused?
</p>
<h4>
PORT A:
</h4>
<p>
This is set up in bit (control) mode with all the bits as
outputs. In order, the bytes sent to PACONT to do a this
are:&pound;FF;0;7;3. &pound;FF selects mode 3 (control mode) and the
following 0 makes all the bits outputs. The 7 is the interrupt
control word which is set to prevent any interrupts. The final
3 disables all interrupts on PORT A just to be sure.
</p>
<h4>
PORT B:
</h4>
<p>
This is identical to the configuring of PORT A exept for the
second byte. This is &pound;F8 (1111 1000) because we require bits
0,1 and 2 to be outputs and bits 3,4 and 5 to be inputs. We
don&rsquo;t care about 6 and 7 and so could have sent &pound;38 etc.
</p>
<h3>
<u>The next installment.</u>
</h3>
<p>
The screen dump program will have to wait until next time,
while I think of some suitable abbreviated names for it. I hope
all this is of interest to someone and maybe even useful. In
this extremely unlikely event I would be glad to supply a
cassette of the ZEAP source ta those too busy (lazy) to type it
all in. A cheque for &pound;1-50 (ta cover costs) to <span class="uppercase">Comfware</span> at __
______ Dr. Haslington Crewe Cheshire ___ ___ will secure this.
</p>
<?php imageCenterMgz("Image-13-1.png"); ?>
<?php columnEnd(1); ?>
