<?php columnStart(1); ?>
<p>
206F 7665 T4GSES74
72207065 6F 72206F
</p>
<p>
72G66F 72 : y 6EISF20
</p>
<p>
BL 746946F BOCs OO 1090 DEFRB O
6ESF2O 80C4 D79R 1100 RCAL YESNO BNASk if to get det&rsquo;r
</p>
<p>
8055 00 O890 DEFB O 80C6 3808 1110 JR C,LAS@ fen
8056 D709 9600 RCAL. YESNO s\Ask if printer to gocs El 1120 POP HL
</p>
<p>
gosa Ei 0610 POP HL tekip last inch of BOCu D1 1130 POP DE
</p>
<p>
B059 D1 0420 POP DE Ipage BOCA Ci 1140 POP BC
</p>
<p>
805A C459 0630 ADD A,"Y s\Restore ASCII value BOCR 0639 1150 LD OB"u s\Lc
s05C SF 0640 LD EA H\Set E to &ldquo;Y or &ldquo;N gocp Cs 1140 PUSH BC
SOSD DS 0450 PUSH DE SOCE DS 1170 PUSH DE
B05E ES 0660 PUSH HL BO0CF ES 1180 PUSH HL
B0SF 1819 0470 JR PENULO 1190
</p>
<p>
j
0680 E&para; SOD0 EF 1200 LASQ RST PRS
0690 4 GET Y/N ANSWER AOD1 S3S57420 1210 DEFM /Set as user output routineu /
</p>
<p>
O700 E&para; 61732075
8061 DF7B 0710 YESNO SCAL BLINK INBlink cursor for I/P 73657220
</p>
<p>
8063 SOFC 9720 JR NC. YESNO 5\Loop &lsquo;til keypress 6F 757470
</p>
<p>
8065 FESu O730 CP ny TE74&amp;2Z072
</p>
<p>
8067 2806 O740 JR Z, ANSOK OF 7357469
</p>
<p>
8069 FEE O7 50 Cr &ldquo;N SEOSIF20
</p>
<p>
B06B 2802 0760 JR Z,ANSOK GOED O00 1220 DEFB O
</p>
<p>
806) 18F2 O770 JR YESNO s\Loop if not &ldquo;Y or &ldquo;N S0EE D788 1230 RCAL DUMCAL
</p>
<p>
O7B8O c BOFO El 1240 FOP HL
BO6F F7 O790 ANSOK RST ROUT p\Output answer and CR GOF i 3803 1250 Jr CG, NOSET i\Set as USR O/F if Y
</p>
<p>
8076 FS 9800 PUSH AF BOF 227800 1260 Lp (USROUT) , HL i\(Bagia/NAS-DIS)
8071 SEOD OB1o LD A, CR 12790
</p>
<p>
8073 F7 e820 RST ROUT 1280
8074 Fi 830 POP AF 1290
8075 D659 0840 SUB &ldquo;Y i\Generate carry if &lsquo;N 1300
8077 CF OBsO RET 1310
OB8GO 4 1320
OB70 | 1330
8078 18E7 oB880 DUMCAL JR YESNG s\Dummy call point 1340
OaFO 4 feince ROAL can&rsquo;t 1390
</p>
<p>
OFO0 E&para; freach BOFS FSR 1360
OF10 1370
807A EF 0920 PENUL@ RST PRE Q0F7 3EFF 1380 LD A, j\Select &lsquo;CONTROL&rsquo; (BIT)
8078 57686174 0930 DEFM /What page length (HEX.)u / BOFS DRO7 L390 OUT (PBCONT) A smode
20704167 8OFR SEF 1400 LD A, &pound;Fa8 PNLLLL 1000 (1=I/P O=0/P)
65206065 BOFD D307 1410 OUT (PECONT).A sAllacate bits IN or QUT
6E677469 BOFF 3EO7 1420 LD &amp;,7 E&para;\Interrupt control word
20284845 8101 Da07 1430 OUT (PBCONT),A i(digsable interrupts)
S82E293F 8103 3EOs 1440 LD A,3 i\Digsable interrupts on
20 8105 DzO7 1450 OUT (PBCONT),A SPORT 4
B94 aDaO 0740 DEFB CR,O i\Ask for page length 1460
80946 DF43 O950 SCAL INLIN i\Input line via NAS. 8107 3EFF 1470 LD A, &pound;FF s\Set all O/P bits
</p>
<p>
80998 DF64 0960 SCAL NUM g\Convert value (NAS. ) 8109 DA0OS 1480 QUT (FPEDATA),A tof PORT &amp;
</p>
<p>
809A 3EDE 0970 JR C, PENULG i\Repeat if error B10B SEFD 1490 LD A, &pound;FD i\Reset (assert) INIT
8090 2ZAZ1OC OF8O LD HL. (NUMY) \Retrieve number in l B10D DzOS 1500 OUT (PEDATA),A jline of printer
</p>
<p>
BO9F 4D 0990 LO yk fand save it in C BiOF D775 1510 RCAL DDEL4&amp;O $\Hold low for 60 mic. s
BOAO 0638 1400 LD B,"8 s\Set B for paper end BLit Di L320 POF DE i\Restore DE
</p>
<p>
BOAZ Ei 1010 POP HL. tdetector off 8112 74 1330 LD A,D i\Use D to pick state of
BOAS Dt 1020 POP DE
</p>
<p>
S113 D305 1540 OUT (PRDATA),A sAUTO FEED EXT line
80A4 CS 1030 PUSH BC 1550
8OAS DS 1940 PUSH DE 1560
8086 ES 1050 PUSH HL 1570
1060 j 1580
</p>
<p>
BOA7 EF 1970 RST PRS
</p>
<p>
1590
BOA SI6S7420 1080 DEFM /Set paper end detector onu / 8115 3EFF 14600 LD Ayrd i\Select &lsquo;CONTROL&rsquo; (BIT)
79617065
</p>
<p>
B117 DIOS 1610 OUT (PACONT),4 made
7TR20656E 8119 3C 1420 INC A \Bet A to zero
642064465 B1LA D306 1430 OUT (PACONT),4&amp; r\Select all bits as O/Ps
</p>
<p>
&ldquo;Y change B ta
{detector on
</p>
<p>
(A.B. User routine must be turned an
by the U cammand before it is active)
</p>
<p>
SET UP PIO FOR PRINTER INTERFACE
SET UP PORT B
</p>
<p>
OSET DI i\Disable CPU interrupts
</p>
<p>
ee a
</p>
<p>
aw
</p>
<p>
SET UF PORT 4
</p>
<p>
ae ee ae am oe
</p>
<p>
15,
</p>
<?php columnEnd(1); ?>
