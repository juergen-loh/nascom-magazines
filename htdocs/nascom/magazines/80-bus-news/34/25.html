<?php columnStart(1, "noindent"); ?>
<p>
Pins A and B are the input and output of a sensing coil and C and D are the
input and output of a driver coil which is pulsed by an output from a 74145
BCD&nbsp;&ndash; decimal decoder/<?php spChar("zwsp"); ?>driver. In the unexpanded keyboard, the keys are
arranged in a matrix of 8 driver lines (Dr0&nbsp;&ndash; Dr7) and 6 sensing lines (S0&nbsp;&ndash;
S5) and one of the 48 points is not used. In the expanded version, an
additional sense line is employed (S6) to give 56 points in the matrix, with
the new Shift key added to give a total of 57. The sense outputs are processed
to give data bits 0&nbsp;&ndash; 5 on the CPU bus (or bits 0&nbsp;&ndash; 6 in the expanded
version). A browse through a circuit diagram of the keyboard (CK9009, April
1978) showed that half of IC1 (CA3086 transistor array) and half of IC3 (7400
quad 2-input NAND gate) are available. The buffering for the sense lines is
provided by single transistors within each of the two 3086 arrays (IC1 and 9),
and up to two new sense lines could be connected with the unused part of ICl.
The circuit diagram also shows each buffered sense line and associated pull-up
resistor connected to individual flip-flops each formed from 2 of the NAND
gates in a 7400 (ICs 2,7 and 8). It is a simple matter to implement another
flip-flop for bit 6 from the two spare gates available in IC3 and connect this
to pin 7 of the keyboard socket. Fitting in the three resistors for the
collector pull-up, emitter bias and base of the IC transistor buffer calls for
some care.
</p>
<p>
The Nascom&nbsp;1 keyboard circuit diagram shows a particular layout of characters
against sense/<?php spChar("zwsp"); ?>driver intersections in the key matrix but the actual order is
slightly different (Murphy&rsquo;s Law). For the issue B board, the following
order was found: (issue A boards may be different)
</p>
<table class="kbd-matrix">
<tr><th></th><th colspan=8>Drivers</th></tr>
<tr><td></td><td>0</td><td>1</td><td>2</td><td>3</td><td>4</td><td>5</td><td>6</td><td>7</td></tr>
<tr><td>Sense</td><td colspan=8></td></tr>
<tr><td>0</td><td>&ndash;</td><td>5</td><td>6</td><td>7</td><td>8</td><td>9</td><td>0</td><td>4</td></tr>
<tr><td>3</td><td>@</td><td>T</td><td>Y</td><td>U</td><td>I</td><td>0</td><td>P</td><td>R</td></tr>
<tr><td>1</td><td>BS</td><td>H</td><td>J</td><td>K</td><td>L</td><td>;</td><td>:</td><td>G</td></tr>
<tr><td>2</td><td>RET</td><td>B</td><td>N</td><td>M</td><td>,</td><td>.</td><td>/</td><td>V</td></tr>
<tr><td>5</td><td>SHFT</td><td>X</td><td>Z</td><td>S</td><td>A</td><td>Q</td><td>1</td><td>SPC</td></tr>
<tr><td>4</td><td>not<br>used</td><td>F</td><td>D</td><td>E</td><td>W</td><td>3</td><td>2</td><td>C</td></tr>
</table>
<p>
The sense outputs are connected to IC9 and 1 as follows:
</p>
<table class="kbd-pins">
<tr><th></th><th>Sense</th><th>IC</th><th>Pin</th><th>IC pin for output<br>to data bus</th></tr>
<tr><td></td><td>0</td><td>9</td><td>9</td><td>11</td></tr>
<tr><td></td><td>3</td><td>9</td><td>6</td><td>8</td></tr>
<tr><td></td><td>1</td><td>9</td><td>4</td><td>5</td></tr>
<tr><td></td><td>2</td><td>9</td><td>12</td><td>14</td></tr>
<tr><td></td><td>5</td><td>1</td><td>12</td><td>14</td></tr>
<tr><td></td><td>4</td><td>1</td><td>4</td><td>5</td></tr>
<tr><td>New sense line</td><td>6</td><td>1</td><td>9</td><td>11</td></tr>
</table>
<p>
The Driver lines are supplied from IC5 pins 1&nbsp;&ndash; 7 and 9 (corresponding to Dr0
&ndash; Dr7). The new sense line could have been connected to ICl pin 6 but the
circuit layout means that the connection to pin 9 was easier to arrange.
</p>
<p>
Board surgery can now commence! The holes for the new pins must be drilled
accurately with a 1 mm bit and for most of the holes required, simply match up
</p>
<?php columnEnd(1); ?>
