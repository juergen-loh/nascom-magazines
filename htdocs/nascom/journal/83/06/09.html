<?php columnStartJustify(2, 2); ?>

<p>
Noch eine kleine Anmerkung zur CPU-Karte:
</p>
<p>
Ich habe mein NAS&shy;SYS3 auf den
deutschen Zeichensatz lt.
<a href="../../../../81/12/10/text/#article3">Journal 11/12-81</a>
umgestellt, wobei ich alles
vorher im RAM austesten konnte. Es war nur notwendig, NAS&shy;SYS3 vorher in
den Bereich von z.B. 1000 hex zu kopieren, dort zu ändern und dann
wieder auf den Bereich 000-7FF zurückzukopieren. Anschließend wurden
über Bit1 des Port3 die unteren 4K der CPU-Karte ausgeblendet + DF5B&nbsp;;
das geänderte Monitorprogramm stand nun im RAM und lief.
</p>
<p>
Die
<a href="../../../07/29/text/#article1">48X16 Karte</a>
darf dabei allerdings nicht das CE Signal von der
CPU-Karte erhalten (Pin25a), sondern muß sich selbst dekodieren.
Vielleicht wäre dies eine Möglichkeit, die
<a href="../../../03/05/text/#article1">80X24 Karte</a>
ohne USER-Befehl
anzusteuern, indem man einfach die CRT-Routinen von NAS&shy;SYS abändert und
im RAM ab 000 laufen läßt.
</p>

<h1 id="article1">
MC-CP/M-NAS
</h1>
<h3>
von <span class="uppercase">Günter Böhm</span>
</h3>

<p>
Das große Format der NAS&shy;COM/80-Bus-Karten hat mich schon immer gestört,
und so habe ich schon vor langer Zeit eine Buserweiterung für den
<?php externalLink("ECB","",""); ?>/Kontron-Bus
gebaut, die seither mit 36K RAM und einer Menge anderer
Euro-Karten läuft.
</p>
<p>
Als es daran ging, eine 64K-RAM-Karte zu kaufen, kam mir
<?php externalLink("mc","MC"); ?> mit dem
<?php externalLink("mc-CP/M","CP/M",""); ?>-Computer
dazwischen: Warum eine Speichererweiterung, wenn ich zum
gleichen Preis eine CPU-Karte + Speicher erhalten kann? Damit war klar:
ich würde ein reines Europakarten-System aufbauen. Die Aussichten auf
CP/M waren ebenfalls sehr reizvoll, aber damit würde ich die Verwendung
meiner mühsam erstellten Software, die nun einmal mit NAS&shy;SYS läuft,
ausschließen. Was nützt aber die komfortabelste CP/M-Software, wenn ich
die Programme, die speziell auf meine Bedürfnisse in Beruf und Hobby
zugeschnitten sind, alle neu schreiben müßte. Somit blieb für mich nur
folgende Konzeption offen: ein Eurokarten System, das mit NAS&shy;SYS läuft,
aber auch die Möglichkeit bietet CP/M zu verwenden. An dieser
Konzeption habe ich nun seither herumgebastelt, wobei mir die Firma
List und Niemann zuhilfe kam; denn bei denen laufen solche Systeme
schon seit mehr als zwei Jahren. Die Firma hat mehrere Platinen
hergestellt (z.T. fertig durchkontaktiert)und verkauft auch Bausätze
und Fertigkarten zu akzeptablen Preisen, die obengenannte Möglichkeiten
verbinden. Da ich Karl Schulmeisters Layouts noch nicht vorliegen hatte
und sowieso das Durchkontaktieren per Hand nicht besonders schätze
(übrigens ebensowenig das mühsame Bestellen einer Menge von Bauteilen)
habe ich mir die Bausätze für eine 48X16-Zeichen-Karte, ein
Kansas-City-Interface mit Baudratengenerator und einer Port0-Karte
(Tastaturanschluß) schicken lassen.
</p>
<p>
Beim Aufbau der
<?php externalLink("mc-CP/M","MC CPU-Platine"); ?> stellte ich das Fehlen einiger Teile
fest (die mir allerdings problemlos nachgeliefert wurden), die Bausätze
von List/<?php spChar("zwsp"); ?>Niemann enthielten dagegen solch eine Menge an Bauteilen, daß
ich meine Bastelkiste ordentlich auffrischen konnte. Ob das nun
Serviceleistung ist, oder daran liegt, daß der Bausatzvertrieb erst
angelaufen war, ist mir letztendlich schnuppe: Hauptsache, der Aufbau
konnte beginnen.
</p>
<p>
Die Platinen waren schnell aufgebaut (Die Kansas-City-Karte ist dabei
sehr schön dokumentiert und liefert auch Datenblätter der wichtigen
ICs) und funktionierten auf Anhieb. Eine nachträgliche Änderung des
Layouts der Video-Platine war sogar schon eingelötet. Die KC-Karte habe
ich inzwischen meinem alten NAS&shy;COM1 einverleibt und betreibe damit zwei
Drucker und den

<?php columnChangeJustify(2, "</p>", "<p>"); ?>

Cassettenrecorder, wobei ich per Software (es existiert da ein
Menü-Programm für Interessierte) zwischen den Druckern und Kansas-City
bzw. NAS&shy;COM1- Cassettenformat umschalte. Meine Frau freut sich, daß Sie
beim Benutzen nicht viele Schalter umlegen muß, sondern einfach das
Ausgabemedium per Tastendruck anwählen kann.
</p>
<p>
Mein Euro-System ist noch nicht vollständig. Im Augenblick ist es mit
CPU-Platine, Video-Interface und Port0 ausgerüstet. Wenn sich (durch
genügende Meldungen von Lesern) eine Herstellung von Platinen
realisieren läßt, werde ich mir das Cassetteninterface (inkl. RS232 und
Port0) und die IN/OUT-Platine nach Karl Schulmeister einbauen.
</p>
<p>
(sonst baue ich die I/O-Karte aus
<?php externalLink("mc","MC"); ?> auf, die inzwischen von einem
Vertrieb sehr günstig als Bausatz angeboten wird).
</p>
<p>
Dazu werde ich die 80x24-Zeichen-Karte benutzen (softwaremäßig
umschaltbar mit der 48X16-Karte) und selbstverständlich den
Floppy-Controller, den wir im
<a href="../../../07/30/text/#article1">nächsten Heft</a>
vorstellen werden. Damit
wäre dann das Konzept verwirklicht, ohne übermäßig in die Tasche
greifen zu müssen.
</p>
<p>
Wenn das ganze System funktioniert, werde ich nochmals darüber
berichten mit Tips und Erfahrungen, die ich damit gemacht habe. Hier
aber zunächst noch die Beschreibung der Bootlogik, die den Einsatz der
<?php externalLink("mc-CP/M","MC",""); ?>-Karte
zu meinem Zweck möglich macht.
</p>
<p>
Der
<?php externalLink("mc-CP/M","MC&nbsp;CP/M"); ?>
Computer schaltet um zwischen 4K ROM und den 64K RAM. Aus
diesem Grund kann ich ohne Hardwareänderungen (die ich aus
verschiedenen Gründen nicht durchführen wollte), nicht das Prinzip von
Günter Kreidl nachvollziehen, der NAS&shy;SYS im EPROM hat, und dieses nach
Bedarf ein- und ausblendet. Bei mir muß NAS&shy;SYS im RAM laufen (denn ich
benötige den Platz von 800 bis FFF als Bildschirm- bzw. Arbeitsspeicher
und kann ihn nicht durch das EPROM belegen). Wenn das B-DOS von Helmut
Emmelmann soweit ist, wird man wohl dieses Programm nach dem
Einschalten des Rechners ins RAM booten und dann per Diskette NAS&shy;SYS
(oder jedes beliebige Betriebssystem) laden. Im Augenblick soll aber
NAS&shy;SYS nach dem Einschalten sofort verfügbar sein. Dies erreiche ich
durch nachfolgend abgedrucktes Boot-Programm, das in einem
<?php externalLink("2732"); ?>
abgelegt ist.
</p>
<p>
Nach dem Einschalten wird NAS&shy;SYS zusammen mit einer
kleinen &bdquo;Rückkopier-Routine&ldquo; in den oberen Bereich des RAM
kopiert, und das Programm springt &bdquo;hinterher&ldquo;. Dort wird
durch Zugriff auf den Bereich #7000 (hardwaremäßig auf der
<?php externalLink("mc-CP/M","MC"); ?>
Platine festgelegt) das EPROM abgeschaltet und NAS&shy;SYS wieder zurück auf den
Bereich 0000 bis 7FF kopiert. Dann erfolgt ein Sprung nach 0000, der
NAS&shy;SYS initialisiert und damit auf eine Eingabe wartet.
</p>
<p>
Damit es keine Kollisionen zwischen RAM und der Video-Karte gibt, habe
ich auf dieser einfach das READ-Signal unterbrochen, so daß zwar in den
Speicher der Platine eingeschrieben wird, beim Auslesen aber nur die
64K der CPU-Karte angesprochen werden (in denen ja das gleiche
gespeichert ist). Soweit zu meinem (leider noch unvollständigen) System.
</p>

<?php boxStart("LTR"); ?>
<?php imageCenter($imagepath, $year, $issue, $page, "Image-09-1.jpeg"); ?>
<?php boxEnd(); ?>

<?php columnEnd(2); ?>
